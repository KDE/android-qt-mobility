<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qversitcontactimporter.cpp -->
<head>
  <title>Qt Mobility Project 1.0: QVersitContactImporter Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<a name="//apple_ref/cpp/cl//QVersitContactImporter"></a>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QVersitContactImporter Class Reference</h1>
<p>The QVersitContactImporter class creates QContacts from QVersitDocuments. <a href="#details">More...</a></p>
<pre>    #include &lt;QVersitContactImporter&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<ul>
<li><a href="qversitcontactimporter-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#QVersitContactImporter">QVersitContactImporter</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#dtor.QVersitContactImporter">~QVersitContactImporter</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt;QContact&gt; </td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#importContacts">importContacts</a></b> ( const QList&lt;QVersitDocument&gt; &amp; <i>documents</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVersitContactImporterPropertyHandler * </td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#propertyHandler">propertyHandler</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVersitResourceHandler * </td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#resourceHandler">resourceHandler</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#setPropertyHandler">setPropertyHandler</a></b> ( QVersitContactImporterPropertyHandler * <i>handler</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qversitcontactimporter.html#setResourceHandler">setResourceHandler</a></b> ( QVersitResourceHandler * <i>handler</i> )</td></tr>
</table>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QVersitContactImporter class creates QContacts from QVersitDocuments.</p>
<p>A <a href="qversitresourcehandler.html">QVersitResourceHandler</a> is associated with the importer to supply the behaviour for saving files to persistent storage. By default, this is set to a <a href="qversitdefaultresourcehandler.html">QVersitDefaultResourceHandler</a>, which does not save files to persistent storage. Note that although avatars found in vCards are not saved to disk by default, the importer does set the pixmap of the contact detail to the image. If a full-sized avatar image needs to be persisted, a custom <a href="qversitresourcehandler.html">QVersitResourceHandler</a> should be supplied which implements this.</p>
<p>By associating a <a href="qversitcontactimporterpropertyhandler.html">QVersitContactImporterPropertyHandler</a> with the importer using <a href="qversitcontactimporter.html#setPropertyHandler">setPropertyHandler</a>(), the client can pass in a handler to override the processing of properties and/or handle properties that QVersitContactImporter doesn't support.</p>
<p>An example property handler that logs unknown properties:</p>
<pre>    class MyPropertyHandler : public QVersitContactImporterPropertyHandler {
    public:
       bool preProcessProperty(const QVersitDocument&amp; document, const QVersitProperty&amp; property,
                               int contactIndex, QContact* contact) {
           Q_UNUSED(document) Q_UNUSED(property) Q_UNUSED(contactIndex) Q_UNUSED(contact)
           return false;
       }
       bool postProcessProperty(const QVersitDocument&amp; document, const QVersitProperty&amp; property,
                                bool alreadyProcessed, int contactIndex, QContact* contact) {
           Q_UNUSED(document) Q_UNUSED(contactIndex) Q_UNUSED(contact)
           if (!alreadyProcessed)
               mUnknownProperties.append(property);
           return false;
       }
       QList&lt;QVersitProperty&gt; mUnknownProperties;
    };</pre>
<p>An example usage of QVersitContactImporter</p>
<pre>        QVersitContactImporter importer;

        MyPropertyHandler propertyHandler;
        importer.setPropertyHandler(&amp;propertyHandler);

        QVersitDocument document;

        QVersitProperty property;
        property.setName(QString::fromAscii(&quot;N&quot;));
        property.setValue(&quot;Citizen;John;Q;;&quot;);
        document.addProperty(property);

        property.setName(QString::fromAscii(&quot;X-UNKNOWN-PROPERTY&quot;));
        property.setValue(&quot;some value&quot;);
        document.addProperty(property);

        QList&lt;QVersitDocument&gt; list;
        list.append(document);

        QList&lt;QContact&gt; contactList = importer.importContacts(list);
        <span class="comment">// contactList.first() now contains the &quot;N&quot; property as a QContactName</span>
        <span class="comment">// propertyHandler.mUnknownProperties contains the list of unknown properties</span></pre>
<p>See also <a href="qversitdocument.html">QVersitDocument</a>, <a href="qversitreader.html">QVersitReader</a>, and <a href="qversitcontactimporterpropertyhandler.html">QVersitContactImporterPropertyHandler</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/QVersitContactImporter"></a>
<h3 class="fn"><a name="QVersitContactImporter"></a>QVersitContactImporter::QVersitContactImporter ()</h3>
<p>Constructs a new importer</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/~QVersitContactImporter"></a>
<h3 class="fn"><a name="dtor.QVersitContactImporter"></a>QVersitContactImporter::~QVersitContactImporter ()</h3>
<p>Frees the memory used by the importer</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/importContacts"></a>
<h3 class="fn"><a name="importContacts"></a><a href="http://qt.nokia.com/doc/4.6/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; QVersitContactImporter::importContacts ( const <a href="http://qt.nokia.com/doc/4.6/qlist.html">QList</a>&lt;<a href="qversitdocument.html">QVersitDocument</a>&gt; &amp; <i>documents</i> )</h3>
<p>Converts <i>documents</i> into a corresponding list of QContacts.</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/propertyHandler"></a>
<h3 class="fn"><a name="propertyHandler"></a><a href="qversitcontactimporterpropertyhandler.html">QVersitContactImporterPropertyHandler</a> * QVersitContactImporter::propertyHandler () const</h3>
<p>Gets the handler for processing QVersitProperties.</p>
<p>See also <a href="qversitcontactimporter.html#setPropertyHandler">setPropertyHandler</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/resourceHandler"></a>
<h3 class="fn"><a name="resourceHandler"></a><a href="qversitresourcehandler.html">QVersitResourceHandler</a> * QVersitContactImporter::resourceHandler () const</h3>
<p>Returns the associated resource handler.</p>
<p>See also <a href="qversitcontactimporter.html#setResourceHandler">setResourceHandler</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/setPropertyHandler"></a>
<h3 class="fn"><a name="setPropertyHandler"></a>void QVersitContactImporter::setPropertyHandler ( <a href="qversitcontactimporterpropertyhandler.html">QVersitContactImporterPropertyHandler</a> * <i>handler</i> )</h3>
<p>Sets <i>handler</i> to be the handler for processing QVersitProperties, or 0 to have no handler.</p>
<p>Does not take ownership of the handler. The client should ensure the handler remains valid for the lifetime of the exporter.</p>
<p>See also <a href="qversitcontactimporter.html#propertyHandler">propertyHandler</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitContactImporter/setResourceHandler"></a>
<h3 class="fn"><a name="setResourceHandler"></a>void QVersitContactImporter::setResourceHandler ( <a href="qversitresourcehandler.html">QVersitResourceHandler</a> * <i>handler</i> )</h3>
<p>Sets <i>handler</i> to be the handler to save files with, or 0 to have no handler.</p>
<p>Does not take ownership of the handler. The client should ensure the handler remains valid for the lifetime of the exporter.</p>
<p>See also <a href="qversitcontactimporter.html#resourceHandler">resourceHandler</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.0.0</div></td>
</tr></table></div></address></body>
</html>
