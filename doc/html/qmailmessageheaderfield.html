<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qmailmessage.cpp -->
<head>
  <title>Qt Mobility 1.0: QMailMessageHeaderField Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QMailMessageHeaderField Class Reference</h1>
<p>The QMailMessageHeaderField class encapsulates the parsing of message header fields. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailMessageHeaderField&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qmailmessageheaderfieldfwd.html">QMailMessageHeaderFieldFwd</a>.</p>
<p>Inherited by <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> and <a href="qmailmessagecontenttype.html">QMailMessageContentType</a>.</p>
<ul>
<li><a href="qmailmessageheaderfield-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#QMailMessageHeaderField">QMailMessageHeaderField</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#QMailMessageHeaderField-2">QMailMessageHeaderField</a></b> ( const QByteArray &amp; <i>text</i>, FieldType <i>fieldType</i> = StructuredField )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#QMailMessageHeaderField-3">QMailMessageHeaderField</a></b> ( const QByteArray &amp; <i>id</i>, const QByteArray &amp; <i>text</i>, FieldType <i>fieldType</i> = StructuredField )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#content">content</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QString </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#decodedContent">decodedContent</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#id">id</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#isNull">isNull</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#isParameterEncoded">isParameterEncoded</a></b> ( const QByteArray &amp; <i>name</i> ) const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#parameter">parameter</a></b> ( const QByteArray &amp; <i>name</i> ) const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt;ParameterType&gt; </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#parameters">parameters</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#setContent">setContent</a></b> ( const QByteArray &amp; <i>text</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#setId">setId</a></b> ( const QByteArray &amp; <i>id</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#setParameter">setParameter</a></b> ( const QByteArray &amp; <i>name</i>, const QByteArray &amp; <i>value</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#setParameterEncoded">setParameterEncoded</a></b> ( const QByteArray &amp; <i>name</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#toString">toString</a></b> ( bool <i>includeName</i> = true, bool <i>presentable</i> = true ) const</td></tr>
</table>
<hr />
<a name="static-public-members"></a>
<h2>Static Public Members</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">QString </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#decodeContent">decodeContent</a></b> ( const QByteArray &amp; <i>input</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#decodeParameter">decodeParameter</a></b> ( const QByteArray &amp; <i>input</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#decodeWord">decodeWord</a></b> ( const QByteArray &amp; <i>input</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#encodeContent">encodeContent</a></b> ( const QString &amp; <i>input</i>, const QByteArray &amp; <i>charset</i> = &quot;&quot; )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#encodeParameter">encodeParameter</a></b> ( const QString &amp; <i>input</i>, const QByteArray &amp; <i>charset</i> = &quot;&quot;, const QByteArray &amp; <i>language</i> = &quot;&quot; )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#encodeWord">encodeWord</a></b> ( const QString &amp; <i>input</i>, const QByteArray &amp; <i>charset</i> = &quot;&quot; )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#removeComments">removeComments</a></b> ( const QByteArray &amp; <i>input</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray </td><td class="memItemRight" valign="bottom"><b><a href="qmailmessageheaderfield.html#removeWhitespace">removeWhitespace</a></b> ( const QByteArray &amp; <i>input</i> )</td></tr>
</table>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailMessageHeaderField class encapsulates the parsing of message header fields.</p>
<p>QMailMessageHeaderField provides simplified access to the various components of the header field, and allows the field content to be extracted in a standardized form.</p>
<p>The content of a header field may be formed of unstructured text, or it may have an internal structure. If a structured field is specified, QMailMessageHeaderField assumes that the contained header field is structured in a format equivalent to that used for the RFC 2045 'Content-Type' and RFC 2183 'Content-Disposition' header fields. If the field is unstructured, or conforms to a different structure, then the <a href="qmailmessageheaderfield.html#parameter">parameter</a>() and <a href="qmailmessageheaderfield.html#parameters">parameters</a>() functions will return empty results, and the <a href="qmailmessageheaderfield.html#setParameter">setParameter</a>() function will have no effect.</p>
<p>QMailMessageHeaderField contains static functions to assist in creating correct header field content, and presenting header field content. The <a href="qmailmessageheaderfield.html#encodeWord">encodeWord</a>() and <a href="qmailmessageheaderfield.html#decodeWord">decodeWord</a>() functions translate between plain text and the encoded-word specification defined in RFC 2045. The <a href="qmailmessageheaderfield.html#encodeParameter">encodeParameter</a>() and <a href="qmailmessageheaderfield.html#decodeParameter">decodeParameter</a>() functions translate between plain text and the encoded-parameter format defined in RFC 2231.</p>
<p>The <a href="qmailmessageheaderfield.html#removeWhitespace">removeWhitespace</a>() function can be used to remove irrelevant whitespace characters from a string, and the <a href="qmailmessageheaderfield.html#removeComments">removeComments</a>() function can remove any comment sequences present, encododed according to the RFC 2822 specification.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailMessageHeaderField"></a>QMailMessageHeaderField::QMailMessageHeaderField ()</h3>
<p>Creates an uninitialised message header field object.</p>
<h3 class="fn"><a name="QMailMessageHeaderField-2"></a>QMailMessageHeaderField::QMailMessageHeaderField ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>text</i>, <a href="qmailmessageheaderfieldfwd.html#FieldType-enum">FieldType</a> <i>fieldType</i> = StructuredField )</h3>
<p>Creates a message header field object from the data in <i>text</i>. If <i>fieldType</i> is <a href="qmailmessageheaderfieldfwd.html#FieldType-enum">QMailMessageHeaderField::StructuredField</a>, then <i>text</i> will be parsed assuming a format equivalent to that used for the RFC 2045 'Content-Type' and RFC 2183 'Content-Disposition' header fields.</p>
<h3 class="fn"><a name="QMailMessageHeaderField-3"></a>QMailMessageHeaderField::QMailMessageHeaderField ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>id</i>, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>text</i>, <a href="qmailmessageheaderfieldfwd.html#FieldType-enum">FieldType</a> <i>fieldType</i> = StructuredField )</h3>
<p>Creates a message header field object with the field id <i>id</i> and the content data in <i>text</i>. If <i>fieldType</i> is <a href="qmailmessageheaderfieldfwd.html#FieldType-enum">QMailMessageHeaderField::StructuredField</a>, then <i>text</i> will be parsed assuming a format equivalent to that used for the RFC 2045 'Content-Type' and RFC 2183 'Content-Disposition' header fields.</p>
<h3 class="fn"><a name="content"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::content () const</h3>
<p>Returns the content of the header field, without any associated parameters.</p>
<p>See also <a href="qmailmessageheaderfield.html#setContent">setContent</a>().</p>
<h3 class="fn"><a name="decodeContent"></a><a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> QMailMessageHeaderField::decodeContent ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>input</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of <i>input</i>, decoding any encountered RFC 2045 'encoded-word' format tokens to unicode.</p>
<h3 class="fn"><a name="decodeParameter"></a><a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> QMailMessageHeaderField::decodeParameter ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>input</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of <i>input</i> decoded from RFC 2231 'extended-parameter' format.</p>
<h3 class="fn"><a name="decodeWord"></a><a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> QMailMessageHeaderField::decodeWord ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>input</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of <i>input</i> decoded from RFC 2045 'encoded-word' format.</p>
<h3 class="fn"><a name="decodedContent"></a><a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> QMailMessageHeaderField::decodedContent () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the content of the header field as unicode text. If the content of the field contains any encoded-word or encoded-parameter values, they will be decoded on output.</p>
<h3 class="fn"><a name="encodeContent"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::encodeContent ( const <a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> &amp; <i>input</i>, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>charset</i> = &quot;&quot; )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of the string <i>input</i> encoded into a sequence of RFC 2045 'encoded-word' format tokens. The encoding used can be specified in <i>charset</i>, or can be deduced for each token read from <i>input</i> if <i>charset</i> is empty.</p>
<h3 class="fn"><a name="encodeParameter"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::encodeParameter ( const <a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> &amp; <i>input</i>, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>charset</i> = &quot;&quot;, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>language</i> = &quot;&quot; )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of the string <i>input</i> encoded into RFC 2231 'extended-parameter' format. The encoding used can be specified in <i>charset</i>, or can be deduced from the content of <i>input</i> if <i>charset</i> is empty. If <i>language</i> is non-empty, it will be included in the encoded output; otherwise the language component will be extracted from <i>charset</i>, if it contains a trailing language specifier as defined in RFC 2231.</p>
<h3 class="fn"><a name="encodeWord"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::encodeWord ( const <a href="http://qt.nokia.com/doc/4.5/qstring.html">QString</a> &amp; <i>input</i>, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>charset</i> = &quot;&quot; )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of the string <i>input</i> encoded into a series of RFC 2045 'encoded-word' format tokens, each no longer than 75 characters. The encoding used can be specified in <i>charset</i>, or can be deduced from the content of <i>input</i> if <i>charset</i> is empty.</p>
<h3 class="fn"><a name="id"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::id () const</h3>
<p>Returns the ID of the header field.</p>
<p>See also <a href="qmailmessageheaderfield.html#setId">setId</a>().</p>
<h3 class="fn"><a name="isNull"></a>bool QMailMessageHeaderField::isNull () const</h3>
<p>Returns true if the header field has not been initialized.</p>
<h3 class="fn"><a name="isParameterEncoded"></a>bool QMailMessageHeaderField::isParameterEncoded ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>name</i> ) const</h3>
<p>Returns true if the parameter with name <i>name</i> exists and is marked as encoded according to RFC 2231; otherwise returns false. Name comparisons are case-insensitive.</p>
<h3 class="fn"><a name="parameter"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::parameter ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>name</i> ) const</h3>
<p>Returns the value of the parameter with the name <i>name</i>. Name comparisons are case-insensitive.</p>
<p>See also <a href="qmailmessageheaderfield.html#setParameter">setParameter</a>().</p>
<h3 class="fn"><a name="parameters"></a><a href="http://qt.nokia.com/doc/4.5/qlist.html">QList</a>&lt;ParameterType&gt; QMailMessageHeaderField::parameters () const</h3>
<p>Returns the list of parameters from the header field. For each parameter, the member <tt>first</tt> contains the name text, and the member <tt>second</tt> contains the value text.</p>
<h3 class="fn"><a name="removeComments"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::removeComments ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>input</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of <i>input</i> with any comment sections removed.</p>
<h3 class="fn"><a name="removeWhitespace"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::removeWhitespace ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>input</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the content of <i>input</i> with any whitespace characters removed. Whitespace inside double quotes is preserved.</p>
<h3 class="fn"><a name="setContent"></a>void QMailMessageHeaderField::setContent ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>text</i> )</h3>
<p>Sets the content of the header field to <i>text</i>.</p>
<p>See also <a href="qmailmessageheaderfield.html#content">content</a>().</p>
<h3 class="fn"><a name="setId"></a>void QMailMessageHeaderField::setId ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>id</i> )</h3>
<p>Sets the ID of the header field to <i>id</i>.</p>
<p>See also <a href="qmailmessageheaderfield.html#id">id</a>().</p>
<h3 class="fn"><a name="setParameter"></a>void QMailMessageHeaderField::setParameter ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>name</i>, const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>value</i> )</h3>
<p>Sets the parameter with the name <i>name</i> to have the value <i>value</i>, if present; otherwise a new parameter is appended with the supplied properties. If <i>name</i> ends with a single asterisk, the parameter will be flagged as encoded.</p>
<p>See also <a href="qmailmessageheaderfield.html#parameter">parameter</a>() and <a href="qmailmessageheaderfield.html#setParameterEncoded">setParameterEncoded</a>().</p>
<h3 class="fn"><a name="setParameterEncoded"></a>void QMailMessageHeaderField::setParameterEncoded ( const <a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> &amp; <i>name</i> )</h3>
<p>Sets any parameters with the name <i>name</i> to be marked as encoded. Name comparisons are case-insensitive.</p>
<p>See also <a href="qmailmessageheaderfield.html#isParameterEncoded">isParameterEncoded</a>().</p>
<h3 class="fn"><a name="toString"></a><a href="http://qt.nokia.com/doc/4.5/qbytearray.html">QByteArray</a> QMailMessageHeaderField::toString ( bool <i>includeName</i> = true, bool <i>presentable</i> = true ) const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the entire header field text as a formatted string, with the name of the field included if <i>includeName</i> is true. If <i>presentable</i> is true, artifacts of RFC 2822 transmission format such as parameter folding will be removed. For example:</p>
<pre>    QMailMessageHeaderField hdr;
    hdr.setId(&quot;Content-Type&quot;);
    hdr.setContent(&quot;text/plain&quot;);
    hdr.setParameter(&quot;charset&quot;, &quot;us-ascii&quot;);

    QString s = hdr.toString();  <span class="comment">// s: &quot;Content-Type: text/plain; charset=us-ascii&quot;</span></pre>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td align="right"><div align="right">Qt Mobility 1.0</div></td>
</tr></table></div></address></body>
</html>
