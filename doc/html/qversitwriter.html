<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qversitwriter.cpp -->
<head>
  <title>Qt Mobility Project 1.0: QVersitWriter Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<a name="//apple_ref/cpp/cl//QVersitWriter" />
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QVersitWriter Class Reference</h1>
<p>The QVersitWriter class provides an interface for writing a versit document such as a vCard to a text stream. <a href="#details">More...</a></p>
<pre>    #include &lt;QVersitWriter&gt;</pre><p>Inherits <a href="http://qt.nokia.com/doc/4.5/qobject.html">QObject</a>.</p>
<ul>
<li><a href="qversitwriter-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#QVersitWriter">QVersitWriter</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#dtor.QVersitWriter">~QVersitWriter</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QIODevice * </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#device">device</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#setDevice">setDevice</a></b> ( QIODevice * <i>device</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#setVersitDocument">setVersitDocument</a></b> ( const QVersitDocument &amp; <i>versitDocument</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#startWriting">startWriting</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QVersitDocument </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#versitDocument">versitDocument</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#writeAll">writeAll</a></b> ()</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qversitwriter.html#writingDone">writingDone</a></b> ()</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 signal inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>1 public slot inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#public-slots">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>4 static public members inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.5/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QVersitWriter class provides an interface for writing a versit document such as a vCard to a text stream.</p>
<p>QVersitWriter converts a <a href="qversitdocument.html">QVersitDocument</a> into its textual representation. QVersitWriter supports writing to an abstract I/O device which can be for example a file or a memory buffer. The writing can be done synchronously or asynchronously.</p>
<pre><span class="comment">    // An example of writing a simple vCard to a memory buffer:</span>
    QBuffer vCardBuffer;
    vCardBuffer.open(QBuffer::ReadWrite);
    QVersitWriter writer;
    writer.setDevice(&amp;vCardBuffer);
    QVersitDocument document;
    QVersitProperty property;
    property.setName(&quot;N&quot;);
    property.setValue(&quot;Simpson;Homer;J;;&quot;);
    document.addProperty(property);
    writer.setVersitDocument(document);
    if (writer.writeAll()) {
        <span class="comment">// Use the vCardBuffer...</span>
    }</pre>
<p>See also <a href="qversitdocument.html">QVersitDocument</a> and <a href="qversitproperty.html">QVersitProperty</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<a name="//apple_ref/cpp/instm/QVersitWriter/QVersitWriter" />
<h3 class="fn"><a name="QVersitWriter"></a>QVersitWriter::QVersitWriter ()</h3>
<p>Constructs a new writer.</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/~QVersitWriter" />
<h3 class="fn"><a name="dtor.QVersitWriter"></a>QVersitWriter::~QVersitWriter ()</h3>
<p>Frees the memory used by the writer. Waits until a pending asynchronous writing has been completed.</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/device" />
<h3 class="fn"><a name="device"></a><a href="http://qt.nokia.com/doc/4.5/qiodevice.html">QIODevice</a> * QVersitWriter::device () const</h3>
<p>Returns the device used for writing.</p>
<p>See also <a href="qversitwriter.html#setDevice">setDevice</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/setDevice" />
<h3 class="fn"><a name="setDevice"></a>void QVersitWriter::setDevice ( <a href="http://qt.nokia.com/doc/4.5/qiodevice.html">QIODevice</a> * <i>device</i> )</h3>
<p>Sets the device used for writing to <i>device</i>.</p>
<p>See also <a href="qversitwriter.html#device">device</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/setVersitDocument" />
<h3 class="fn"><a name="setVersitDocument"></a>void QVersitWriter::setVersitDocument ( const <a href="qversitdocument.html">QVersitDocument</a> &amp; <i>versitDocument</i> )</h3>
<p>Set the versit document to be written to <i>versitDocument</i> and selects the actual writer implementation based on the versit document type.</p>
<p>See also <a href="qversitwriter.html#versitDocument">versitDocument</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/startWriting" />
<h3 class="fn"><a name="startWriting"></a>bool QVersitWriter::startWriting ()</h3>
<p>Starts writing the output asynchronously. Returns false if the output device has not been set or opened or if there is another asynchronous write operation already pending. Signal <a href="qversitwriter.html#writingDone">writingDone</a>() is emitted when the writing has finished.</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/versitDocument" />
<h3 class="fn"><a name="versitDocument"></a><a href="qversitdocument.html">QVersitDocument</a> QVersitWriter::versitDocument () const</h3>
<p>Returns the current versit document.</p>
<p>See also <a href="qversitwriter.html#setVersitDocument">setVersitDocument</a>().</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/writeAll" />
<h3 class="fn"><a name="writeAll"></a>bool QVersitWriter::writeAll ()</h3>
<p>Writes the output synchronously. Returns false if the output device has not been set or opened or if there is an asynchronous write operation pending. Using this function may block the user thread for an undefined period. In most cases asynchronous <a href="qversitwriter.html#startWriting">startWriting</a>() should be used instead.</p>
<a name="//apple_ref/cpp/instm/QVersitWriter/writingDone" />
<h3 class="fn"><a name="writingDone"></a>void QVersitWriter::writingDone ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>The signal is emitted by the writer when the asynchronous writing has been completed.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.0 (BETA)</div></td>
</tr></table></div></address></body>
</html>
