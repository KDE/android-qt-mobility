<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ./contactsschema.qdoc -->
<head>
  <title>Qt Contacts Schema</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">Qt Contacts Schema<br /><span class="subtitle"></span>
</h1>
<ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#schema-definition">Schema Definition</a></li>
<li><a href="#default-schema">Default Schema</a></li>
<ul><li><a href="#detail-definition-uniqueness">Detail Definition Uniqueness</a></li>
<li><a href="#detail-definition-access-constraints">Detail Definition Access Constraints</a></li>
<li><a href="#field-access-constraints">Field Access Constraints</a></li>
</ul>
</ul>
<a name="introduction"></a>
<h2>Introduction</h2>
<p>The <a href="contacts.html">Qt Contacts API</a> makes use of detail leaf classes which provide certain well-known functionality. In order to develop a backend engine which can service clients or provide synchronisation to other backends, the schema must be known.</p>
<a name="schema-definition"></a>
<h2>Schema Definition</h2>
<p>Different backends have different capabilities. Some backends may not be able to implement certain definitions in the default schema (for example, some backends might not have support for storing location information), while other backends may not be able to implement some aspects of a particular definition in the default schema (for example, a logo field for organisation details).</p>
<p>In order to be useful for clients, however, all backends should attempt to support the default schema. Furthermore, no backend should support a schema definition of a modified form where those modifications change the semantics of the data. A client should be able to request details of the <a href="qcontactphonenumber.html">QContactPhoneNumber</a> type (that is, details whose definition name is &quot;PhoneNumber&quot;) with reasonable certainty that the data returned is a phone number.</p>
<p>By implementing the default schema, the backend developer ensures that client code written against the default schema will work without source modification against their backend.</p>
<a name="default-schema"></a>
<h2>Default Schema</h2>
<p>The leaf details that form the default schema are as follows:</p>
<ul>
<li><a href="qcontactaddress.html">QContactAddress</a></li>
<li><a href="qcontactanniversary.html">QContactAnniversary</a></li>
<li><a href="qcontactavatar.html">QContactAvatar</a></li>
<li><a href="qcontactbirthday.html">QContactBirthday</a></li>
<li><a href="qcontactdisplaylabel.html">QContactDisplayLabel</a></li>
<li><a href="qcontactemailaddress.html">QContactEmailAddress</a></li>
<li><a href="qcontactfamily.html">QContactFamily</a></li>
<li><a href="qcontactgender.html">QContactGender</a></li>
<li><a href="qcontactgeolocation.html">QContactGeolocation</a></li>
<li><a href="qcontactguid.html">QContactGuid</a></li>
<li><a href="qcontactname.html">QContactName</a></li>
<li><a href="qcontactnickname.html">QContactNickname</a></li>
<li><a href="qcontactnote.html">QContactNote</a></li>
<li><a href="qcontactonlineaccount.html">QContactOnlineAccount</a></li>
<li><a href="qcontactorganization.html">QContactOrganization</a></li>
<li><a href="qcontactphonenumber.html">QContactPhoneNumber</a></li>
<li><a href="qcontactsynctarget.html">QContactSyncTarget</a></li>
<li><a href="qcontacttimestamp.html">QContactTimestamp</a></li>
<li><a href="qcontacttype.html">QContactType</a></li>
<li><a href="qcontacturl.html">QContactUrl</a></li>
</ul>
<p>In the default schema, each of these definitions have various access and uniqueness constraints. Additionally, fields of the definitions may have an access constraint of read-only defined for them.</p>
<a name="detail-definition-uniqueness"></a>
<h3>Detail Definition Uniqueness</h3>
<p>A uniqueness constraint on a detail definition means that for any <a href="qcontact.html">QContact</a>, only one detail of that definition may be saved. Generally, it is information for which a contradicting detail would mean inability to identify the contact. Please note that some details, such as <a href="qcontactbirthday.html">QContactBirthday</a> or <a href="qcontactname.html">QContactName</a>, do not have a uniqueness constraint, since in different contexts, different information may be valid.</p>
<p>The leaf classes which have a uniqueness constraint in the default schema are as follows:</p>
<ul>
<li><a href="qcontactdisplaylabel.html">QContactDisplayLabel</a></li>
<li><a href="qcontacttype.html">QContactType</a></li>
<li><a href="qcontactsynctarget.html">QContactSyncTarget</a></li>
<li><a href="qcontactguid.html">QContactGuid</a></li>
</ul>
<a name="detail-definition-access-constraints"></a>
<h3>Detail Definition Access Constraints</h3>
<p>An access constraint on a detail definition means that for any detail of that definition in a <a href="qcontact.html">QContact</a>, the specified access constraints apply. For example, the <a href="qcontactdisplaylabel.html">QContactDisplayLabel</a> is defined in the default schema as a read-only detail definition; meaning that details of that type in a contact cannot be created, modified or deleted by the client, but are provided by the backend (in the case of <a href="qcontactdisplaylabel.html">QContactDisplayLabel</a>, automatically synthesized by the backend from various details of the contact).</p>
<p>There are three possible detail definition-level access constraints: read-only, create-only and no-constraint. A read-only constraint ensures that clients cannot create, delete or modify details of that definition; a create-only constraint ensures that clients cannot modify details of that definition, but can create them (with whichever values they see fit); if no constraint is specified, details of that definition may be created, modified or deleted as required.</p>
<p>Please see the documentation of <a href="qcontactdetaildefinition.html">QContactDetailDefinition</a> for more information on access constraints.</p>
<p>The leaf classes which have access constraints in the default schema are as follows:</p>
<ul>
<li><a href="qcontactguid.html">QContactGuid</a> is <tt>QContactDetailDefinition::CreateOnly</tt></li>
<li><a href="qcontactsynctarget.html">QContactSyncTarget</a> is <tt>QContactDetailDefinition::CreateOnly</tt></li>
<li><a href="qcontacttimestamp.html">QContactTimestamp</a> is <tt>QContactDetailDefinition::ReadOnly</tt></li>
<li><a href="qcontactdisplaylabel.html">QContactDisplayLabel</a> is <tt>QContactDetailDefinition::ReadOnly</tt></li>
</ul>
<p>Furthermore, in the default schema, every contact is required to have at least two details by default: a <a href="qcontacttype.html">QContactType</a> which describes the type of entity that the contact represents (for example, a person or a group), and a <a href="qcontactdisplaylabel.html">QContactDisplayLabel</a> which holds the default display label for the contact.</p>
<a name="field-access-constraints"></a>
<h3>Field Access Constraints</h3>
<p>Furthermore, some fields of some definitions are also constrained to be read-only. This is information which is generated or automatically provided by the backend, which is related to user-provided information that is also stored in the detail.</p>
<p>The eponymous example of this is the <a href="qcontactonlineaccount.html">QContactOnlineAccount</a> leaf detail, which has an unconstrained field which stores the URI of the account, and several read-only fields in which are stored presence information, status messages, and service availability.</p>
<p>Currently, the <a href="qcontactonlineaccount.html">QContactOnlineAccount</a> is the only leaf detail with field-level access constraints. Every field in details of this type are <tt>QContactDetailDefinition::ReadOnly</tt> except for <tt>QContactOnlineAccount::FieldAccountUri</tt>, which has no constraint.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td align="right"><div align="right">Qt Contacts</div></td>
</tr></table></div></address></body>
</html>
