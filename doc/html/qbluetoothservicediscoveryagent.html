<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qbluetoothservicediscoveryagent.cpp -->
<head>
  <title>Qt Mobility Project 1.1: QBluetoothServiceDiscoveryAgent Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<a name="//apple_ref/cpp/cl//QBluetoothServiceDiscoveryAgent"></a>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QBluetoothServiceDiscoveryAgent Class Reference<br /><span class="small-subtitle">[QtConnectivity module]</span>
</h1>
<p>The QBluetoothServiceDiscoveryAgent class provides an API for querying the services provided by a Bluetooth device. <a href="#details">More...</a></p>
<pre>    #include &lt;QBluetoothServiceDiscoveryAgent&gt;</pre><p><b>This class is not part of the Qt GUI Framework Edition.</b></p>
<p>Inherits <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a>.</p>
<ul>
<li><a href="qbluetoothservicediscoveryagent-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">DiscoveryMode</a></b> { MinimalDiscovery, FullDiscovery }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#Error-enum">Error</a></b> { NoError, Canceled, DeviceDiscoveryError, UnknownError }</td></tr>
</table>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#QBluetoothServiceDiscoveryAgent">QBluetoothServiceDiscoveryAgent</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#QBluetoothServiceDiscoveryAgent-2">QBluetoothServiceDiscoveryAgent</a></b> ( const QBluetoothAddress &amp; <i>remoteAddress</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt;QBluetoothServiceInfo&gt; </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#discoveredServices">discoveredServices</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Error </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#error">error</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#errorString">errorString</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#isActive">isActive</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#setUuidFilter">setUuidFilter</a></b> ( const QList&lt;QBluetoothUuid&gt; &amp; <i>uuids</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#setUuidFilter-2">setUuidFilter</a></b> ( const QBluetoothUuid &amp; <i>uuid</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt;QBluetoothUuid&gt; </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a></b> () const</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#clear">clear</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#start">start</a></b> ( DiscoveryMode <i>mode</i> = MinimalDiscovery )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#stop">stop</a></b> ()</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-slots">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#error-2">error</a></b> ( QBluetoothServiceDiscoveryAgent::Error <i>error</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#finished">finished</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qbluetoothservicediscoveryagent.html#serviceDiscovered">serviceDiscovered</a></b> ( const QBluetoothServiceInfo &amp; <i>info</i> )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 signal inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>4 static public members inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QBluetoothServiceDiscoveryAgent class provides an API for querying the services provided by a Bluetooth device.</p>
<p>To query the services provided by all contactable Bluetooth devices create an instance of QBluetoothServiceDiscoveryAgent, connect to either the <a href="qbluetoothservicediscoveryagent.html#serviceDiscovered">serviceDiscovered</a>() or <a href="qbluetoothservicediscoveryagent.html#finished">finished</a>() signals and call <a href="qbluetoothservicediscoveryagent.html#start">start</a>().</p>
<pre>        QBluetoothServiceDiscoveryAgent *discoveryAgent = new QBluetoothServiceDiscoveryAgent(this);

        connect(discoveryAgent, SIGNAL(serviceDiscovered(const QBluetoothServiceInfo&amp;)),
                this, SLOT(serviceDiscovered(const QBluetoothServiceInfo&amp;)));

        <span class="comment">// Automatically delete agent when service discovery finishes.</span>
        connect(discoveryAgent, SIGNAL(finished()), this, SLOT(deleteLater()));

        discoveryAgent-&gt;start();</pre>
<p>By default a minimal service discovery is performed. In this mode the QBluetotohServiceInfo objects returned are guaranteed to contain only device and service UUID information. Depending on platform and device capabilities other service information may also be available. For most use cases this is adequate as <a href="qbluetoothsocket.html#connectToService">QBluetoothSocket::connectToService</a>() will perform additional discovery if required. If full service information is required pass <a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">FullDiscovery</a> as the discoveryMode parameter to <a href="qbluetoothservicediscoveryagent.html#start">start</a>().</p>
<hr />
<h2>Member Type Documentation</h2>
<a name="//apple_ref/cpp/tag/QBluetoothServiceDiscoveryAgent/DiscoveryMode"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/MinimalDiscovery"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/FullDiscovery"></a>
<h3 class="fn"><a name="DiscoveryMode-enum"></a>enum QBluetoothServiceDiscoveryAgent::DiscoveryMode</h3>
<p>This enum describes the service discovery mode.</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::MinimalDiscovery</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Performs a minimal service discovery. The <a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a> objects returned may be incomplete and are only guaranteed to contain device and service UUID information.</td></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::FullDiscovery</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Performs a full service discovery.</td></tr>
</table></p>
<a name="//apple_ref/cpp/tag/QBluetoothServiceDiscoveryAgent/Error"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/NoError"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/Canceled"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/DeviceDiscoveryError"></a>
<a name="//apple_ref/cpp/econst/QBluetoothServiceDiscoveryAgent/UnknownError"></a>
<h3 class="fn"><a name="Error-enum"></a>enum QBluetoothServiceDiscoveryAgent::Error</h3>
<p>This enum describes errors that can occur during service discovery.</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::NoError</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">No error.</td></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::Canceled</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Service discovery was canceled.</td></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::DeviceDiscoveryError</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">Error occurred during device discovery.</td></tr>
<tr><td valign="top"><tt>QBluetoothServiceDiscoveryAgent::UnknownError</tt></td><td align="center" valign="top"><tt>100</tt></td><td valign="top">An unidentified error occurred.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/QBluetoothServiceDiscoveryAgent"></a>
<h3 class="fn"><a name="QBluetoothServiceDiscoveryAgent"></a>QBluetoothServiceDiscoveryAgent::QBluetoothServiceDiscoveryAgent ( <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothservicediscoveryagent.html">QBluetoothServiceDiscoveryAgent</a> with <i>parent</i>.</p>
<h3 class="fn"><a name="QBluetoothServiceDiscoveryAgent-2"></a>QBluetoothServiceDiscoveryAgent::QBluetoothServiceDiscoveryAgent ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>remoteAddress</i>, <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothservicediscoveryagent.html">QBluetoothServiceDiscoveryAgent</a> for <i>remoteAddress</i> and with <i>parent</i>.</p>
<p>If <i>remoteAddress</i> is invalid the agent will discover services on all contactable Bluetooth devices.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/clear"></a>
<h3 class="fn"><a name="clear"></a>void QBluetoothServiceDiscoveryAgent::clear ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Clears the results of a previous service discovery.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/discoveredServices"></a>
<h3 class="fn"><a name="discoveredServices"></a><a href="http://qt.nokia.com/doc/4.6/qlist.html">QList</a>&lt;<a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a>&gt; QBluetoothServiceDiscoveryAgent::discoveredServices () const</h3>
<p>Returns the list of all discovered services.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/error"></a>
<h3 class="fn"><a name="error"></a><a href="qbluetoothservicediscoveryagent.html#Error-enum">Error</a> QBluetoothServiceDiscoveryAgent::error () const</h3>
<p>Returns the type of error that last occurred.</p>
<h3 class="fn"><a name="error-2"></a>void QBluetoothServiceDiscoveryAgent::error ( <a href="qbluetoothservicediscoveryagent.html#Error-enum">QBluetoothServiceDiscoveryAgent::Error</a> <i>error</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when an error occurs. The <i>error</i> parameter describes the error that occurred.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/errorString"></a>
<h3 class="fn"><a name="errorString"></a><a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> QBluetoothServiceDiscoveryAgent::errorString () const</h3>
<p>Returns a human-readable description of the last error that occurred.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/finished"></a>
<h3 class="fn"><a name="finished"></a>void QBluetoothServiceDiscoveryAgent::finished ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when Bluetooth service discovery completes.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/isActive"></a>
<h3 class="fn"><a name="isActive"></a>bool QBluetoothServiceDiscoveryAgent::isActive () const</h3>
<p>Returns true if service discovery is currently active, otherwise returns false.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/serviceDiscovered"></a>
<h3 class="fn"><a name="serviceDiscovered"></a>void QBluetoothServiceDiscoveryAgent::serviceDiscovered ( const <a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a> &amp; <i>info</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the Bluetooth service described by <i>info</i> is discovered.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/setUuidFilter"></a>
<h3 class="fn"><a name="setUuidFilter"></a>void QBluetoothServiceDiscoveryAgent::setUuidFilter ( const <a href="http://qt.nokia.com/doc/4.6/qlist.html">QList</a>&lt;<a href="qbluetoothuuid.html">QBluetoothUuid</a>&gt; &amp; <i>uuids</i> )</h3>
<p>Sets the UUID filter to <i>uuids</i>. Only services matching the UUIDs in <i>uuids</i> will be returned.</p>
<p>An empty UUID list is equivalent to a list containing only <a href="qbluetoothuuid.html#ServiceClassUuid-enum">QBluetoothUuid::PublicBrowseGroup</a>.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a>().</p>
<h3 class="fn"><a name="setUuidFilter-2"></a>void QBluetoothServiceDiscoveryAgent::setUuidFilter ( const <a href="qbluetoothuuid.html">QBluetoothUuid</a> &amp; <i>uuid</i> )</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Sets the UUID filter to a list containing the single element <i>uuid</i>.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a>().</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/start"></a>
<h3 class="fn"><a name="start"></a>void QBluetoothServiceDiscoveryAgent::start ( <a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">DiscoveryMode</a> <i>mode</i> = MinimalDiscovery )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Starts service discovery. <i>mode</i> specifies the type of service discovery to perform.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/stop"></a>
<h3 class="fn"><a name="stop"></a>void QBluetoothServiceDiscoveryAgent::stop ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Stops service discovery.</p>
<a name="//apple_ref/cpp/instm/QBluetoothServiceDiscoveryAgent/uuidFilter"></a>
<h3 class="fn"><a name="uuidFilter"></a><a href="http://qt.nokia.com/doc/4.6/qlist.html">QList</a>&lt;<a href="qbluetoothuuid.html">QBluetoothUuid</a>&gt; QBluetoothServiceDiscoveryAgent::uuidFilter () const</h3>
<p>Returns the UUID filter.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#setUuidFilter">setUuidFilter</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address></body>
</html>
