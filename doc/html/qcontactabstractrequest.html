<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- qcontactabstractrequest.cpp -->
<head>
  <title>Qt Mobility Project 1.0: QContactAbstractRequest Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<a name="//apple_ref/cpp/cl//QContactAbstractRequest"></a>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QContactAbstractRequest Class Reference</h1>
<p>The QContactAbstractRequest class provides a mechanism for asynchronous requests to be made of a manager if it supports them. <a href="#details">More...</a></p>
<pre>    #include &lt;QContactAbstractRequest&gt;</pre><p>Inherits <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a>.</p>
<p>Inherited by <a href="qcontactdetaildefinitionfetchrequest.html">QContactDetailDefinitionFetchRequest</a>, <a href="qcontactdetaildefinitionremoverequest.html">QContactDetailDefinitionRemoveRequest</a>, <a href="qcontactdetaildefinitionsaverequest.html">QContactDetailDefinitionSaveRequest</a>, <a href="qcontactfetchrequest.html">QContactFetchRequest</a>, <a href="qcontactlocalidfetchrequest.html">QContactLocalIdFetchRequest</a>, <a href="qcontactrelationshipfetchrequest.html">QContactRelationshipFetchRequest</a>, <a href="qcontactrelationshipremoverequest.html">QContactRelationshipRemoveRequest</a>, <a href="qcontactrelationshipsaverequest.html">QContactRelationshipSaveRequest</a>, <a href="qcontactremoverequest.html">QContactRemoveRequest</a>, and <a href="qcontactsaverequest.html">QContactSaveRequest</a>.</p>
<ul>
<li><a href="qcontactabstractrequest-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#RequestType-enum">RequestType</a></b> { InvalidRequest, ContactFetchRequest, ContactLocalIdFetchRequest, ContactRemoveRequest, ..., RelationshipSaveRequest }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#State-enum">State</a></b> { InactiveState, ActiveState, CanceledState, FinishedState }</td></tr>
</table>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top"></td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#dtor.QContactAbstractRequest">~QContactAbstractRequest</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QContactManager::Error </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#error">error</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#isActive">isActive</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#isCanceled">isCanceled</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#isFinished">isFinished</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#isInactive">isInactive</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QContactManager * </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#manager">manager</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#setManager">setManager</a></b> ( QContactManager * <i>manager</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">State </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#state">state</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">RequestType </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#type">type</a></b> () const</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#cancel">cancel</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#start">start</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#waitForFinished">waitForFinished</a></b> ( int <i>msecs</i> = 0 )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-slots">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#resultsAvailable">resultsAvailable</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qcontactabstractrequest.html#stateChanged">stateChanged</a></b> ( QContactAbstractRequest::State <i>newState</i> )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 signal inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>4 static public members inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QContactAbstractRequest class provides a mechanism for asynchronous requests to be made of a manager if it supports them.</p>
<p>It allows a client to asynchronously request some functionality of a particular <a href="qcontactmanager.html">QContactManager</a>. Instances of the class will emit signals when the state of the request changes, or when more results become available.</p>
<p>Clients should not attempt to create instances of this class directly, but should instead use the use-case-specific classes derived from this class.</p>
<p>All such request classes have a similar interface: clients set the parameters of the asynchronous call, including which manager the request will be made of, and then call the <a href="qcontactabstractrequest.html#start">start</a>() slot of the request. The manager will then enqueue or begin to process the request, at which point the request's state will transition from <tt>InactiveState</tt> to <tt>ActiveState</tt>. After any state transition, the request will emit the <a href="qcontactabstractrequest.html#stateChanged">stateChanged</a>() signal. The manager may periodically update the request with results, at which point the request will emit the <a href="qcontactabstractrequest.html#resultsAvailable">resultsAvailable</a>() signal. These results are not guaranteed to have a stable ordering. Error information is considered a result, so some requests will emit the <a href="qcontactabstractrequest.html#resultsAvailable">resultsAvailable</a>() signal even if no results are possible from the request (for example, a contact remove request) when the manager updates the request with information about any errors which may have occurred.</p>
<p>Please see the class documentation of each of the use-case-specific classes derived from this class for information about how to retrieve the results of a request (including error information). In all cases, those functions are synchronous, and will return the cached result set with which the manager has updated the request instance if the <a href="qcontactabstractrequest.html#resultsAvailable">resultsAvailable</a>() signal has been emitted.</p>
<p>Clients can choose which signals they wish to handle from a request. If the client is not interested in interim results, they can choose to handle only the <a href="qcontactabstractrequest.html#stateChanged">stateChanged</a>() signal, and in the slot to which that signal is connected, check whether the state has changed to either <tt>FinishedState</tt> or <tt>CanceledState</tt> (both of which signify that the manager has finished handling the request, and that the request will not be updated with any more results). If the client is not interested in any results (including error information), they may choose to delete the request after calling <a href="qcontactabstractrequest.html#start">start</a>(), or simply not connect the request's signals to any slots.</p>
<p>If the request is allocated via operator new, the client must delete the request when they are no longer using it in order to avoid leaking memory. That is, the client retains ownership of the request.</p>
<p>The client may delete a heap-allocated request in various ways: by deleting it directly (but not within a slot connected to a signal emitted by the request), or by using the <a href="http://qt.nokia.com/doc/4.6/qobject.html#deleteLater">deleteLater</a>() slot to schedule the request for deletion when control returns to the event loop (from within a slot connected to a signal emitted by the request, for example <a href="qcontactabstractrequest.html#stateChanged">stateChanged</a>()).</p>
<p>An active request may be deleted by the client, but the client will not receive any notifications about whether the request succeeded or not, nor any results of the request.</p>
<p>Because clients retain ownership of any request object, and may delete a request object at any time, manager engine implementors must be careful to ensure that they do not assume that a request has not been deleted at some point during processing of a request, particularly if the engine has a multithreaded implementation. It is suggested that engine implementors read the <a href="contactsengines.html">Qt Contacts Manager Engines</a> documentation for more information on this topic.</p>
<hr />
<h2>Member Type Documentation</h2>
<a name="//apple_ref/cpp/tag/QContactAbstractRequest/RequestType"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/InvalidRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/ContactFetchRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/ContactLocalIdFetchRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/ContactRemoveRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/ContactSaveRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/DetailDefinitionFetchRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/DetailDefinitionRemoveRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/DetailDefinitionSaveRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/RelationshipFetchRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/RelationshipRemoveRequest"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/RelationshipSaveRequest"></a>
<h3 class="fn"><a name="RequestType-enum"></a>enum QContactAbstractRequest::RequestType</h3>
<p>Enumerates the various possible types of asynchronous requests</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::InvalidRequest</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">An invalid request</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::ContactFetchRequest</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">A request to fetch a list of contacts</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::ContactLocalIdFetchRequest</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">A request to fetch a list of local contact ids</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::ContactRemoveRequest</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">A request to remove a list of contacts</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::ContactSaveRequest</tt></td><td align="center" valign="top"><tt>4</tt></td><td valign="top">A request to save a list of contacts</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::DetailDefinitionFetchRequest</tt></td><td align="center" valign="top"><tt>5</tt></td><td valign="top">A request to fetch a collection of detail definitions</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::DetailDefinitionRemoveRequest</tt></td><td align="center" valign="top"><tt>6</tt></td><td valign="top">A request to remove a list of detail definitions</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::DetailDefinitionSaveRequest</tt></td><td align="center" valign="top"><tt>7</tt></td><td valign="top">A request to save a list of detail definitions</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::RelationshipFetchRequest</tt></td><td align="center" valign="top"><tt>8</tt></td><td valign="top">A request to fetch relationships between contacts</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::RelationshipRemoveRequest</tt></td><td align="center" valign="top"><tt>9</tt></td><td valign="top">A request to remove any relationships which match the request criteria</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::RelationshipSaveRequest</tt></td><td align="center" valign="top"><tt>10</tt></td><td valign="top">A request to save a list of relationships</td></tr>
</table></p>
<a name="//apple_ref/cpp/tag/QContactAbstractRequest/State"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/InactiveState"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/ActiveState"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/CanceledState"></a>
<a name="//apple_ref/cpp/econst/QContactAbstractRequest/FinishedState"></a>
<h3 class="fn"><a name="State-enum"></a>enum QContactAbstractRequest::State</h3>
<p>Enumerates the various states that a request may be in at any given time</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::InactiveState</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">Operation not yet started</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::ActiveState</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">Operation started, not yet finished</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::CanceledState</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">Operation is finished due to cancellation</td></tr>
<tr><td valign="top"><tt>QContactAbstractRequest::FinishedState</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">Operation successfully completed</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/~QContactAbstractRequest"></a>
<h3 class="fn"><a name="dtor.QContactAbstractRequest"></a>QContactAbstractRequest::~QContactAbstractRequest ()</h3>
<p>Cleans up the memory used by this request</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/cancel"></a>
<h3 class="fn"><a name="cancel"></a>bool QContactAbstractRequest::cancel ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Attempts to cancel the request. Returns false if the request is not in the <tt>QContactAbstractRequest::Active</tt> state, or if the request is unable to be cancelled by the manager engine; otherwise returns true.</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/error"></a>
<h3 class="fn"><a name="error"></a><a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> QContactAbstractRequest::error () const</h3>
<p>Returns the overall error of the most recent asynchronous operation</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/isActive"></a>
<h3 class="fn"><a name="isActive"></a>bool QContactAbstractRequest::isActive () const</h3>
<p>Returns true if the request is in the <tt>QContactAbstractRequest::ActiveState</tt> state; otherwise, returns false</p>
<p>See also <a href="qcontactabstractrequest.html#state">state</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/isCanceled"></a>
<h3 class="fn"><a name="isCanceled"></a>bool QContactAbstractRequest::isCanceled () const</h3>
<p>Returns true if the request is in the <tt>QContactAbstractRequest::CanceledState</tt>; otherwise, returns false</p>
<p>See also <a href="qcontactabstractrequest.html#state">state</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/isFinished"></a>
<h3 class="fn"><a name="isFinished"></a>bool QContactAbstractRequest::isFinished () const</h3>
<p>Returns true if the request is in the <tt>QContactAbstractRequest::FinishedState</tt>; otherwise, returns false</p>
<p>See also <a href="qcontactabstractrequest.html#state">state</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/isInactive"></a>
<h3 class="fn"><a name="isInactive"></a>bool QContactAbstractRequest::isInactive () const</h3>
<p>Returns true if the request is in the <tt>QContactAbstractRequest::InactiveState</tt> state; otherwise, returns false</p>
<p>See also <a href="qcontactabstractrequest.html#state">state</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/manager"></a>
<h3 class="fn"><a name="manager"></a><a href="qcontactmanager.html">QContactManager</a> * QContactAbstractRequest::manager () const</h3>
<p>Returns a pointer to the manager of which this request instance requests operations</p>
<p>See also <a href="qcontactabstractrequest.html#setManager">setManager</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/resultsAvailable"></a>
<h3 class="fn"><a name="resultsAvailable"></a>void QContactAbstractRequest::resultsAvailable ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when new results are available. Results can include the operation error which may be accessed via <a href="qcontactabstractrequest.html#error">error</a>(), or derived-class-specific results which are accessible through the derived class API.</p>
<p>See also <a href="qcontactabstractrequest.html#error">error</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/setManager"></a>
<h3 class="fn"><a name="setManager"></a>void QContactAbstractRequest::setManager ( <a href="qcontactmanager.html">QContactManager</a> * <i>manager</i> )</h3>
<p>Sets the manager of which this request instance requests operations to <i>manager</i></p>
<p>If the request is currently active, this function will return without updating the <i>manager</i> object.</p>
<p>See also <a href="qcontactabstractrequest.html#manager">manager</a>().</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/start"></a>
<h3 class="fn"><a name="start"></a>bool QContactAbstractRequest::start ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Attempts to start the request. Returns false if the request is not in the <tt>QContactAbstractRequest::Inactive</tt>, <tt>QContactAbstractRequest::Finished</tt> or <tt>QContactAbstractRequest::Cancelled</tt> states, or if the request was unable to be performed by the manager engine; otherwise returns true.</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/state"></a>
<h3 class="fn"><a name="state"></a><a href="qcontactabstractrequest.html#State-enum">State</a> QContactAbstractRequest::state () const</h3>
<p>Returns the current state of the request.</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/stateChanged"></a>
<h3 class="fn"><a name="stateChanged"></a>void QContactAbstractRequest::stateChanged ( <a href="qcontactabstractrequest.html#State-enum">QContactAbstractRequest::State</a> <i>newState</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the state of the request is changed. The new state of the request will be contained in <i>newState</i>.</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/type"></a>
<h3 class="fn"><a name="type"></a><a href="qcontactabstractrequest.html#RequestType-enum">RequestType</a> QContactAbstractRequest::type () const</h3>
<p>Returns the type of this asynchronous request</p>
<a name="//apple_ref/cpp/instm/QContactAbstractRequest/waitForFinished"></a>
<h3 class="fn"><a name="waitForFinished"></a>bool QContactAbstractRequest::waitForFinished ( int <i>msecs</i> = 0 )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Blocks until the request has been completed by the manager engine, or until <i>msecs</i> milliseconds has elapsed. If <i>msecs</i> is zero, this function will block indefinitely. Returns true if the request was cancelled or completed successfully within the given period, otherwise false. Some backends are unable to support this operation safely, and will return false immediately.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.0.2</div></td>
</tr></table></div></address></body>
</html>
