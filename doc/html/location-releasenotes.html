<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- location.qdoc -->
<head>
  <title>Qt Mobility Project 1.0: Location Library Release Notes</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">Location Library Release Notes<br /><span class="subtitle"></span>
</h1>
<ul><li><a href="#windows-ce-windows-mobile">Windows CE / Windows Mobile</a></li>
<ul><li><a href="#accuracy-in-metres-information-is-unavailable">Accuracy-in-metres information is unavailable</a></li>
<li><a href="#there-is-no-reliable-method-to-detect-if-a-device-has-gps-capabilities">There is no reliable method to detect if a device has GPS capabilities</a></li>
<li><a href="#other-applications-may-power-down-the-gps-hardware-when-they-are-done">Other applications may power down the GPS hardware when they are done</a></li>
</ul>
</ul>
<a name="windows-ce-windows-mobile"></a>
<h2>Windows CE / Windows Mobile</h2>
<a name="accuracy-in-metres-information-is-unavailable"></a>
<h3>Accuracy-in-metres information is unavailable</h3>
<p>The Microsoft GPS API reports DOP (dilation of precision) data, however we are unable to convert this to accuracy in metres.</p>
<p>Accuracy in metres is an optional property in <a href="qgeopositioninfo.html">QGeoPositionInfo</a>, however it is worth noting the unavailability in the WinCE backend so that people check that the property exists before using it.</p>
<a name="there-is-no-reliable-method-to-detect-if-a-device-has-gps-capabilities"></a>
<h3>There is no reliable method to detect if a device has GPS capabilities</h3>
<p>When the Microsoft GPS API is installed and used on devices without GPS capabilities, the API will report that the device has transitioned from the OFF state to the STARTING_UP state. It will remain in the STARTING_UP state indefinitely.</p>
<p>Ideally we would like <a href="qgeopositioninfosource.html#createDefaultSource">QGeoPositionInfoSource::createDefaultSource</a>() and <a href="qgeosatelliteinfosource.html#createDefaultSource">QGeoSatelliteInfoSource::createDefaultSource</a>() to return 0 when the device has no GPS capabilities.</p>
<p>If we knew that all devices transition passed the STARTING_UP state before trying to establish the fix we could just wait some - unknown - amount of time in getDefaultSource to determine which devices started up successfully.</p>
<p>If any device tries to get a fix first this would fail as a solution since it would introduce an untenable delay into <a href="qgeopositioninfosource.html#createDefaultSource">QGeoPositionInfoSource::createDefaultSource</a>() and <a href="qgeosatelliteinfosource.html#createDefaultSource">QGeoSatelliteInfoSource::createDefaultSource</a>().</p>
<p>If we had a foolproof mapping from GPS enabled devices to GPS API drivers we could check the registry settings for those drivers against a whitelist or blacklist.</p>
<p>These lists could be quite large, and there is reason to believe that there would be false negatives in either case. The lists would also need to be kept up to date.</p>
<p>A complete absence of drivers would give a quick and (hopefully) reliable negative for GPS support, although there doesn't seem to be much information available which details how commonly this will occur.</p>
<a name="other-applications-may-power-down-the-gps-hardware-when-they-are-done"></a>
<h3>Other applications may power down the GPS hardware when they are done</h3>
<p>The Microsoft GPS API implements reference counting, so there shouldn't be any conflicts with applications which make use of the GPSID (GPS Intermediate Driver).</p>
<p>There are reports that some applications do not use the GPSID and so avoid this reference counting.</p>
<p>Examples of such reports are <a href="http://social.msdn.microsoft.com/forums/en-US/netfxcompact/thread/8e4bab32-6c6c-4fbf-9b05-29cd08dbe867">this</a> thread and some of the comments towards the end of <a href="http://blogs.msdn.com/cenet/archive/2006/02/10/windows-ce-gpsid-its-c-wrapper-and-device-emulator-interaction-issues.aspx">this</a> page.</p>
<p>The Location API Windows CE backend will detect if the GPS device is unexpectedly shutdown and will turn it back on again, however without a solid test case it is unknown how much of a service interruption this may cause.</p>
<p>It is hoped that the largest effect would be a pause in updates or at most several request timeouts.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td align="right"><div align="right">Qt Mobility Project 1.0 (BETA)</div></td>
</tr></table></div></address></body>
</html>
