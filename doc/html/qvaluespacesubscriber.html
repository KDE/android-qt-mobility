<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qvaluespacesubscriber.cpp -->
  <title>Qt 1.1: QValueSpaceSubscriber Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt.nokia.com/developer">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
        <li class="nav-topright-shop"><a title="SHOP" href="http://shop.qt.nokia.com">SHOP</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL Qt VERSIONS        </a></li>
      </ul>
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="index.html#platform-compatibility">Platform Compatibility</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/">Qt 4.7</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="http://doc.qt.nokia.com/4.7-snapshot/platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="modules.html">Modules</a></li>              <li>QValueSpaceSubscriber</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3>Contents</h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QValueSpaceSubscriber Class Reference</h1>
<p>The QValueSpaceSubscriber class allows applications to read and subscribe to Value Space paths. <a href="#details">More...</a></p>
<pre class="highlightedCode brush: cpp"> #include &lt;QValueSpaceSubscriber&gt;</pre><ul>
<li><a href="qvaluespacesubscriber-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="properties"></a>
<h2>Properties</h2>
<ul>
<li class="fn"><b><a href="qvaluespacesubscriber.html#path-prop">path</a></b> : QString</li>
<li class="fn"><b><a href="qvaluespacesubscriber.html#value-prop">value</a></b> : const QVariant</li>
</ul>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber">QValueSpaceSubscriber</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-2">QValueSpaceSubscriber</a></b> ( const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-3">QValueSpaceSubscriber</a></b> ( QValueSpace::LayerOptions <i>filter</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-4">QValueSpaceSubscriber</a></b> ( const QUuid &amp; <i>uuid</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#dtor.QValueSpaceSubscriber">~QValueSpaceSubscriber</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#cd">cd</a></b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#cdUp">cdUp</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#isConnected">isConnected</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">path</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">setPath</a></b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">setPath</a></b> ( QValueSpaceSubscriber * <i>subscriber</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#subPaths">subPaths</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariant </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#value">value</a></b> ( const QString &amp; <i>subPath</i> = QString(), const QVariant &amp; <i>def</i> = QVariant() ) const</td></tr>
</table>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#contentsChanged">contentsChanged</a></b> ()</td></tr>
</table>
<a name="details"></a>
<hr />
<div class="descr"/>
<h2>Detailed Description</h2>
<p>The QValueSpaceSubscriber class allows applications to read and subscribe to Value Space paths.</p>
<p>By default QValueSpaceSubscriber can read values from and report change notifications for all available Value Space layers. Only data from the layer with the highest order and that contains the specific key is returned by this class.</p>
<p>The layers that QValueSpaceSubscriber accesses can be limited by specifying either a <a href="qvaluespace.html#LayerOption-enum">filter</a> or a QUuid at construction time.</p>
<p>Applications subscribe to a particular path in the Value Space. If anything under that path changes the contextChanged() signal is emitted. For example given the schema:</p>
<pre class="highlightedCode brush: cpp"> /Device/Buttons = 3
 /Device/Buttons/1/Name = Menu
 /Device/Buttons/1/Usable = true
 /Device/Buttons/2/Name = Select
 /Device/Buttons/2/Usable = false
 /Device/Buttons/3/Name = Back
 /Device/Buttons/3/Usable = true</pre>
<p>The code:</p>
<pre class="highlightedCode brush: cpp">     QValueSpaceSubscriber *buttons = new QValueSpaceSubscriber(&quot;/Device/Buttons&quot;);
     QObject::connect(buttons, SIGNAL(contentsChanged()), this, SLOT(buttonInfoChanged()));</pre>
<p>will invoke the <tt>buttonInfoChanged()</tt> slot whenever any value under <tt>/Device/Buttons</tt> changes. This includes the value of <tt>/Device/Buttons</tt> itself, a change of a subpath such as <tt>/Device/Buttons/2/Name</tt> or the creation or removal of a subpath.</p>
</div>
<hr />
<div class="prop"/>
<h2>Property Documentation</h2>
<h3 class="fn"><a name="path-prop"></a>path : QString</h3>
<p>This property holds the current path that the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> refers to.</p>
<p>Settings this property causes the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> to disconnect and reconnect to the Value Space with the new path. As a result all signal/slot connections are disconnected.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> QString </td><td class="memItemRight bottomAlign"><b>path</b> () const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setPath</b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setPath</b> ( QValueSpaceSubscriber * <i>subscriber</i> )</td></tr>
</table>
<h3 class="fn"><a name="value-prop"></a>value : const QVariant</h3>
<p>This property holds the value of the path that this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> refers to.</p>
<p><b>Notifier signal:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#contentsChanged">contentsChanged</a></b> ()</td></tr>
</table>
</div>
<hr />
<div class="func"/>
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QValueSpaceSubscriber"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( QObject * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to the root path.</p>
<p>The constructed Value Space subscriber will access all available <a href="qabstractvaluespacelayer.html">layers</a>.</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-2"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>.</p>
<p>The constructed Value Space subscriber will access all available <a href="qabstractvaluespacelayer.html">layers</a>.</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-3"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( <a href="qvaluespace.html#LayerOption-enum">QValueSpace::LayerOptions</a> <i>filter</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>. The <i>filter</i> parameter is used to limit which layers this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will access.</p>
<p>If a layer matching <i>filter</i> is not found, the constructed <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will be unconnected.</p>
<p>See also <a href="qvaluespacesubscriber.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-4"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( const QUuid &amp; <i>uuid</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>. This <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will only use the layer identified by <i>uuid</i>.</p>
<p>Use of this constructor is not platform agnostic. If possible use one of the constructors that take a QAbstractValueSpaceLayer::LayerOptions parameter instead.</p>
<p>If a layer with a matching <i>uuid</i> is not found, the constructed <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will be unconnected.</p>
<p>See also <a href="qabstractvaluespacelayer.html#id">QAbstractValueSpaceLayer::id</a>(), <a href="qvaluespace.html">QValueSpace</a>, and <a href="qvaluespacesubscriber.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="dtor.QValueSpaceSubscriber"></a>QValueSpaceSubscriber::~QValueSpaceSubscriber ()<tt> [virtual]</tt></h3>
<p>Destroys the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a>.</p>
<h3 class="fn"><a name="cd"></a>void QValueSpaceSubscriber::cd ( const QString &amp; <i>path</i> )</h3>
<p>Changes the path to the absolute path if <i>path</i> starts with a '/'; otherwise changes to the sub path of the current path.</p>
<h3 class="fn"><a name="cdUp"></a>void QValueSpaceSubscriber::cdUp ()</h3>
<p>Sets the path to parent of the current path.</p>
<h3 class="fn"><a name="contentsChanged"></a>void QValueSpaceSubscriber::contentsChanged ()<tt> [signal]</tt></h3>
<p>Emitted whenever any value under the current path changes.</p>
<p><b>Note:</b> that if a value changes multiple times in quick succession, only the most recent value may be accessible via the <a href="qvaluespacesubscriber.html#value">value</a>() function.</p>
<h3 class="fn"><a name="isConnected"></a>bool QValueSpaceSubscriber::isConnected () const</h3>
<p>Returns true if this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> is connected to at least one available layer; otherwise returns false. An unconnected <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> is constructed if the filtering parameters passed to the constructor eliminate all available layers.</p>
<h3 class="fn"><a name="subPaths"></a>QStringList QValueSpaceSubscriber::subPaths () const</h3>
<p>Returns a list of sub-paths under the current path. For example, given a Value Space tree containing:</p>
<pre class="highlightedCode brush: cpp"> /Settings/Nokia/Device
 /Settings/Nokia/Other
 /Settings/Qt
 /Device/Buttons</pre>
<p><tt>QValueSpaceSubscriber(&quot;/Settings&quot;).subPaths()</tt> will return a list containing <tt>{ Nokia, Qt }</tt> in no particular order.</p>
<h3 class="fn"><a name="value"></a>QVariant QValueSpaceSubscriber::value ( const QString &amp; <i>subPath</i> = QString(), const QVariant &amp; <i>def</i> = QVariant() ) const</h3>
<p>Returns the value of the <i>subPath</i> under this subscriber path, or the value of this subscriber path if <i>subPath</i> is empty. If the value does not exists <i>def</i> is returned.</p>
<p>The following code shows how the subscriber path and <i>subPath</i> relate.</p>
<pre class="highlightedCode brush: cpp"> QValueSpaceSubscriber base(&quot;/Settings&quot;);
 QValueSpaceSubscriber equiv(&quot;/Settings/Nokia/General/Mappings&quot;);

<span class="comment"> // Is true</span>
 equiv.value() == base.value(&quot;Nokia/General/Mappings&quot;);</pre>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009-2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address>  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
