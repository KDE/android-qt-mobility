<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qvaluespacesubscriber.cpp -->
  <title>Qt Mobility Project 1.1: QValueSpaceSubscriber Class Reference</title>
  <!--[if IE]><meta name="MSSmartTagsPreventParsing" content="true"><meta http-equiv="imagetoolbar" content="no"><![endif]--><!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="style/style_ie6.css"><![endif]--><!--[if IE 7]><link rel="stylesheet" type="text/css" href="style/style_ie7.css"><![endif]--><!--[if IE 8]><link rel="stylesheet" type="text/css" href="style/style_ie8.css"><![endif]-->  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline"  onload="CheckEmptyAndLoadList();">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qtlogo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot;</td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table>              <li><a href="modules.html">All Modules</a></li>              <li><a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a></li>
<div class="toc">
<h3>Contents</h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QValueSpaceSubscriber Class Reference</h1>
<p>The QValueSpaceSubscriber class allows applications to read and subscribe to Value Space paths. <a href="#details">More...</a></p>
<pre class="highlightedCode">    #include &lt;QValueSpaceSubscriber&gt;</pre><p>Inherits <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a>.</p>
<ul>
<li><a href="qvaluespacesubscriber-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="properties"></a>
<h2>Properties</h2>
<ul>
<li class="fn"><b><a href="qvaluespacesubscriber.html#path-prop">path</a></b> : QString</li>
<li class="fn"><b><a href="qvaluespacesubscriber.html#value-prop">value</a></b> : const QVariant</li>
</ul>
<ul>
<li class="fn">1 property inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#properties">QObject</a></li>
</ul>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber">QValueSpaceSubscriber</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-2">QValueSpaceSubscriber</a></b> ( const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-3">QValueSpaceSubscriber</a></b> ( QValueSpace::LayerOptions <i>filter</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#QValueSpaceSubscriber-4">QValueSpaceSubscriber</a></b> ( const QUuid &amp; <i>uuid</i>, const QString &amp; <i>path</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#dtor.QValueSpaceSubscriber">~QValueSpaceSubscriber</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#cd">cd</a></b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#cdUp">cdUp</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#isConnected">isConnected</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">path</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">setPath</a></b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#path-prop">setPath</a></b> ( QValueSpaceSubscriber * <i>subscriber</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#subPaths">subPaths</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariant </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#value">value</a></b> ( const QString &amp; <i>subPath</i> = QString(), const QVariant &amp; <i>def</i> = QVariant() ) const</td></tr>
</table>
<ul>
<li class="fn">29 public functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#contentsChanged">contentsChanged</a></b> ()</td></tr>
</table>
<ul>
<li class="fn">1 signal inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li class="fn">1 public slot inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-slots">QObject</a></li>
<li class="fn">1 public variable inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#public-variables">QObject</a></li>
<li class="fn">4 static public members inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#static-public-members">QObject</a></li>
<li class="fn">7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-functions">QObject</a></li>
<li class="fn">2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.6/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<div class="descr"/>
<h2>Detailed Description</h2>
<p>The QValueSpaceSubscriber class allows applications to read and subscribe to Value Space paths.</p>
<p>By default QValueSpaceSubscriber can read values from and report change notifications for all available Value Space layers. Only data from the layer with the highest order and that contains the specific key is returned by this class.</p>
<p>The layers that QValueSpaceSubscriber accesses can be limited by specifying either a <a href="qvaluespace.html#LayerOption-enum">filter</a> or a <a href="http://qt.nokia.com/doc/4.6/quuid.html">QUuid</a> at construction time.</p>
<p>Applications subscribe to a particular path in the Value Space. If anything under that path changes the contextChanged() signal is emitted. For example given the schema:</p>
<pre class="highlightedCode">    /Device/Buttons = 3
    /Device/Buttons/1/Name = Menu
    /Device/Buttons/1/Usable = true
    /Device/Buttons/2/Name = Select
    /Device/Buttons/2/Usable = false
    /Device/Buttons/3/Name = Back
    /Device/Buttons/3/Usable = true</pre>
<p>The code:</p>
<pre class="highlightedCode">        QValueSpaceSubscriber *buttons = new QValueSpaceSubscriber(&quot;/Device/Buttons&quot;);
        QObject::connect(buttons, SIGNAL(contentsChanged()), this, SLOT(buttonInfoChanged()));</pre>
<p>will invoke the <tt>buttonInfoChanged()</tt> slot whenever any value under <tt>/Device/Buttons</tt> changes. This includes the value of <tt>/Device/Buttons</tt> itself, a change of a subpath such as <tt>/Device/Buttons/2/Name</tt> or the creation or removal of a subpath.</p>
</div>
<hr />
<div class="prop"/>
<h2>Property Documentation</h2>
<h3 class="fn"><a name="path-prop"></a>path : <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a></h3>
<p>This property holds the current path that the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> refers to.</p>
<p>Settings this property causes the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> to disconnect and reconnect to the Value Space with the new path. As a result all signal/slot connections are disconnected.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> QString </td><td class="memItemRight bottomAlign"><b>path</b> () const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setPath</b> ( const QString &amp; <i>path</i> )</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b>setPath</b> ( QValueSpaceSubscriber * <i>subscriber</i> )</td></tr>
</table>
<h3 class="fn"><a name="value-prop"></a>value : const <a href="http://qt.nokia.com/doc/4.6/qvariant.html">QVariant</a></h3>
<p>This property holds the value of the path that this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> refers to.</p>
<p><b>Notifier signal:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qvaluespacesubscriber.html#contentsChanged">contentsChanged</a></b> ()</td></tr>
</table>
</div>
<hr />
<div class="func"/>
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QValueSpaceSubscriber"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to the root path.</p>
<p>The constructed Value Space subscriber will access all available <a href="qabstractvaluespacelayer.html">layers</a>.</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-2"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( const <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> &amp; <i>path</i>, <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>.</p>
<p>The constructed Value Space subscriber will access all available <a href="qabstractvaluespacelayer.html">layers</a>.</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-3"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( <a href="qvaluespace.html#LayerOption-enum">QValueSpace::LayerOptions</a> <i>filter</i>, const <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> &amp; <i>path</i>, <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>. The <i>filter</i> parameter is used to limit which layers this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will access.</p>
<p>If a layer matching <i>filter</i> is not found, the constructed <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will be unconnected.</p>
<p>See also <a href="qvaluespacesubscriber.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="QValueSpaceSubscriber-4"></a>QValueSpaceSubscriber::QValueSpaceSubscriber ( const <a href="http://qt.nokia.com/doc/4.6/quuid.html">QUuid</a> &amp; <i>uuid</i>, const <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> &amp; <i>path</i>, <a href="http://qt.nokia.com/doc/4.6/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> with the specified <i>parent</i> that refers to <i>path</i>. This <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will only use the layer identified by <i>uuid</i>.</p>
<p>Use of this constructor is not platform agnostic. If possible use one of the constructors that take a QAbstractValueSpaceLayer::LayerOptions parameter instead.</p>
<p>If a layer with a matching <i>uuid</i> is not found, the constructed <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> will be unconnected.</p>
<p>See also <a href="qabstractvaluespacelayer.html#id">QAbstractValueSpaceLayer::id</a>(), <a href="qvaluespace.html">QValueSpace</a>, and <a href="qvaluespacesubscriber.html#isConnected">isConnected</a>().</p>
<h3 class="fn"><a name="dtor.QValueSpaceSubscriber"></a>QValueSpaceSubscriber::~QValueSpaceSubscriber ()<tt> [virtual]</tt></h3>
<p>Destroys the <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a>.</p>
<h3 class="fn"><a name="cd"></a>void QValueSpaceSubscriber::cd ( const <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> &amp; <i>path</i> )</h3>
<p>Changes the path to the absolute path if <i>path</i> starts with a '/'; otherwise changes to the sub path of the current path.</p>
<h3 class="fn"><a name="cdUp"></a>void QValueSpaceSubscriber::cdUp ()</h3>
<p>Sets the path to parent of the current path.</p>
<h3 class="fn"><a name="contentsChanged"></a>void QValueSpaceSubscriber::contentsChanged ()<tt> [signal]</tt></h3>
<p>Emitted whenever any value under the current path changes.</p>
<p><b>Note:</b> that if a value changes multiple times in quick succession, only the most recent value may be accessible via the <a href="qvaluespacesubscriber.html#value">value</a>() function.</p>
<h3 class="fn"><a name="isConnected"></a>bool QValueSpaceSubscriber::isConnected () const</h3>
<p>Returns true if this <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> is connected to at least one available layer; otherwise returns false. An unconnected <a href="qvaluespacesubscriber.html">QValueSpaceSubscriber</a> is constructed if the filtering parameters passed to the constructor eliminate all available layers.</p>
<h3 class="fn"><a name="subPaths"></a><a href="http://qt.nokia.com/doc/4.6/qstringlist.html">QStringList</a> QValueSpaceSubscriber::subPaths () const</h3>
<p>Returns a list of sub-paths under the current path. For example, given a Value Space tree containing:</p>
<pre class="highlightedCode">    /Settings/Nokia/Device
    /Settings/Nokia/Other
    /Settings/Qt
    /Device/Buttons</pre>
<p><tt>QValueSpaceSubscriber(&quot;/Settings&quot;).subPaths()</tt> will return a list containing <tt>{ Nokia, Qt }</tt> in no particular order.</p>
<h3 class="fn"><a name="value"></a><a href="http://qt.nokia.com/doc/4.6/qvariant.html">QVariant</a> QValueSpaceSubscriber::value ( const <a href="http://qt.nokia.com/doc/4.6/qstring.html">QString</a> &amp; <i>subPath</i> = QString(), const <a href="http://qt.nokia.com/doc/4.6/qvariant.html">QVariant</a> &amp; <i>def</i> = QVariant() ) const</h3>
<p>Returns the value of the <i>subPath</i> under this subscriber path, or the value of this subscriber path if <i>subPath</i> is empty. If the value does not exists <i>def</i> is returned.</p>
<p>The following code shows how the subscriber path and <i>subPath</i> relate.</p>
<pre class="highlightedCode">    QValueSpaceSubscriber base(&quot;/Settings&quot;);
    QValueSpaceSubscriber equiv(&quot;/Settings/Nokia/General/Mappings);

<span class="comment">    // Is true</span>
    equiv.value() == base.value(&quot;Nokia/General/Mapping&quot;);</pre>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address>  <script src="scripts/functions.js" type="text/javascript"></script>
</body>
</html>
