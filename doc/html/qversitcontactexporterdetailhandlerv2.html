<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qversitcontactexporter.cpp -->
  <title>Qt 1.1: QVersitContactExporterDetailHandlerV2 Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt.nokia.com/developer">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
        <li class="nav-topright-shop"><a title="SHOP" href="http://shop.qt.nokia.com">SHOP</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL Qt VERSIONS        </a></li>
      </ul>
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html#Demos">QML Demos</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="modules.html">Modules</a></li>              <li>QVersitContactExporterDetailHandlerV2</li>
            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QVersitContactExporterDetailHandlerV2 Class Reference</h1>
<p>The QVersitContactExporterDetailHandlerV2 class is an interface for clients wishing to implement custom export behaviour for certain contact details. <a href="#details">More...</a></p>
<pre class="highlightedCode brush: cpp"> #include &lt;QVersitContactExporterDetailHandlerV2&gt;</pre><ul>
<li><a href="qversitcontactexporterdetailhandlerv2-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qversitcontactexporterdetailhandlerv2.html#dtor.QVersitContactExporterDetailHandlerV2">~QVersitContactExporterDetailHandlerV2</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qversitcontactexporterdetailhandlerv2.html#contactProcessed">contactProcessed</a></b> ( const QContact &amp; <i>contact</i>, QVersitDocument * <i>document</i> ) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qversitcontactexporterdetailhandlerv2.html#detailProcessed">detailProcessed</a></b> ( const QContact &amp; <i>contact</i>, const QContactDetail &amp; <i>detail</i>, const QSet&lt;QString&gt; &amp; <i>processedFields</i>, const QVersitDocument &amp; <i>document</i>, QList&lt;QVersitProperty&gt; * <i>toBeRemoved</i>, QList&lt;QVersitProperty&gt; * <i>toBeAdded</i> ) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual int </td><td class="memItemRight bottomAlign"><b><a href="qversitcontactexporterdetailhandlerv2.html#version">version</a></b> () const</td></tr>
</table>
<a name="static-public-members"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Static Public Members</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> QVersitContactExporterDetailHandlerV2 * </td><td class="memItemRight bottomAlign"><b><a href="qversitcontactexporterdetailhandlerv2.html#createBackupHandler">createBackupHandler</a></b> ()</td></tr>
</table>
<a name="details"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<div class="descr"/>
<h2>Detailed Description</h2>
<p>The QVersitContactExporterDetailHandlerV2 class is an interface for clients wishing to implement custom export behaviour for certain contact details.</p>
<p>This interface supercedes <a href="qversitcontactimporterpropertyhandler.html">QVersitContactImporterPropertyHandler</a>.</p>
</div>
<p>See also <a href="qversitcontactexporter.html">QVersitContactExporter</a>.</p>
<div class="func"/>
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="dtor.QVersitContactExporterDetailHandlerV2"></a>QVersitContactExporterDetailHandlerV2::~QVersitContactExporterDetailHandlerV2 ()<tt> [virtual]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Frees any memory in use by this handler.</p>
<h3 class="fn"><a name="contactProcessed"></a>void QVersitContactExporterDetailHandlerV2::contactProcessed ( const <a href="qcontact.html">QContact</a> &amp; <i>contact</i>, <a href="qversitdocument.html">QVersitDocument</a> * <i>document</i> )<tt> [pure virtual]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Perform any final processing on the <i>document</i> generated by the <i>contact</i>. This can be implemented by the handler to clear any internal state before moving onto the next contact.</p>
<p>This function is called after all QContactDetails have been handled by the <a href="qversitcontactexporter.html">QVersitContactExporter</a>.</p>
<h3 class="fn"><a name="createBackupHandler"></a>QVersitContactExporterDetailHandlerV2 * QVersitContactExporterDetailHandlerV2::createBackupHandler ()<tt> [static]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Constructs and returns a detail handler that encodes all details not handled by the base exporter. The caller is responsible for deleting the object.</p>
<p>This handler encodes all writable details that the exporter doesn't recognise. The format it uses to encode the detail is as follows:</p>
<ul>
<li>All generated properties will have the name X-NOKIA-QCONTACTFIELD</li>
<li>All generated properties will have a single Versit group, and all properties generated from a single detail will have the same group.</li>
<li>All generated properties will have at least the parameters DETAIL, which holds the definition name of the <a href="qcontactdetail.html">QContactDetail</a> from which it was generated, and FIELD, which holds the name of the field within the detail from which it was generated.</li>
<li>If the field is of type QString or QByteArray, the property's value is set directly to the value of the field. (For a QByteArray value, the <a href="qversitwriter.html">QVersitWriter</a> will base-64 encode it.)</li>
<li>If the field is of type bool, int, uint, QDate, QTime, QDateTime or QUrl a the property's value is set to a string representation of the field. A parameter DATATYPE is added to the property with value BOOL, INT, UINT, DATE, TIME or DATETIME depending on the type.</li>
<li>If the field is of some other type, the field value is encoded to a QByteArray via QDataStream (and the resulting byte array is base-64 encoded by the <a href="qversitwriter.html">QVersitWriter</a>). In this case, the parameter DATATYPE=VARIANT is added to the Versit property.</li>
</ul>
<p>For example, a detail with definition name &quot;Pet&quot; and fields &quot;Name&quot;=&quot;Rex&quot; and &quot;Age&quot;=(int)14 will be exported to the vCard properties:</p>
<pre class="highlightedCode brush: cpp"> G0.X-NOKIA-QCONTACTFIELD;DETAIL=Pet;FIELD=Name:Rex
 G0.X-NOKIA-QCONTACTFIELD;DETAIL=Pet;FIELD=Age;DATATYPE=INT:14</pre>
<p>And the next detail (say, &quot;Pet&quot; with a field &quot;Name&quot;=&quot;Molly&quot; will generate:</p>
<pre class="highlightedCode brush: cpp"> G1.X-NOKIA-QCONTACTFIELD;DETAIL=Pet;FIELD=Name:Molly</pre>
<p>The properties produced by this class can be imported by the importer &quot;backup&quot; property handler (created by <a href="qversitcontactimporterpropertyhandlerv2.html#createBackupHandler">QVersitContactImporterPropertyHandlerV2::createBackupHandler</a>()) to reproduce the original <a href="qcontactdetail.html">QContactDetails</a>.</p>
<p>Clients wishing to implement their own detail handler and also benefit from the functionality of the backup handler can use this function to construct one, and wrap a custom <a href="qversitcontactexporterdetailhandlerv2.html">QVersitContactExporterDetailHandlerV2</a> around it. In the implementation of detailProcessed and contactProcessed, the respective functions in the backup handler should be called as the last step (ensuring the arguments are correctly updated and passed through).</p>
<h3 class="fn"><a name="detailProcessed"></a>void QVersitContactExporterDetailHandlerV2::detailProcessed ( const <a href="qcontact.html">QContact</a> &amp; <i>contact</i>, const <a href="qcontactdetail.html">QContactDetail</a> &amp; <i>detail</i>, const QSet&lt;QString&gt; &amp; <i>processedFields</i>, const <a href="qversitdocument.html">QVersitDocument</a> &amp; <i>document</i>, QList&lt;<a href="qversitproperty.html">QVersitProperty</a>&gt; * <i>toBeRemoved</i>, QList&lt;<a href="qversitproperty.html">QVersitProperty</a>&gt; * <i>toBeAdded</i> )<tt> [pure virtual]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Process <i>detail</i> and provide a list of updated <a href="qversitproperty.html">QVersitProperties</a> by modifying the <i>toBeRemoved</i> and <i>toBeAdded</i> lists.</p>
<p>This function is called on every <a href="qcontactdetail.html">QContactDetail</a> encountered during an export, after the detail has been processed by the <a href="qversitcontactexporter.html">QVersitContactExporter</a>. An implementation of this function can be made to provide support for QContactDetails not supported by <a href="qversitcontactexporter.html">QVersitContactExporter</a>.</p>
<p>The supplied <i>contact</i> is the container for the <i>detail</i>. <i>processedFields</i> contains a list of fields in the <i>detail</i> that were considered by the <a href="qversitcontactexporter.html">QVersitContactExporter</a> in processing the detail. <i>document</i> holds the state of the document before the detail was processed by the exporter.</p>
<p><i>toBeRemoved</i> and <i>toBeAdded</i> are initially filled with a list of properties that the exporter will remove from and add to the document. These lists can be modified (by removing, modifying or adding properties) by the handler to control the changes that will actually be made to the document. If a property is to be modified in the document, the old version will appear in the <i>toBeRemoved</i> list and the new version will appear in the <i>toBeAdded</i> list.</p>
<p>After the handler returns control back to the exporter, the properties in the <i>toBeRemoved</i> list will be removed and the properties in the <i>toBeAdded</i> list will be appended to the document.</p>
<h3 class="fn"><a name="version"></a>int QVersitContactExporterDetailHandlerV2::version () const<tt> [virtual]</tt></h3><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<p>Returns the version of the handler. Currently, always returns 2.</p>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009-2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address>  <script src="scripts/functions.js" type="text/javascript"></script>
  <!-- <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script> -->
</body>
</html>
