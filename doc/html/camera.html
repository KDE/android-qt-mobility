<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- camera.qdoc -->
  <title>Qt 1.1: Camera</title>
  <link rel="stylesheet" type="text/css" href="style/style.css"
 />  <!--[if IE]>
<meta name="MSSmartTagsPreventParsing" content="true">
<meta http-equiv="imagetoolbar" content="no">
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie6.css">
<![endif]-->
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="style/style_ie7.css">
<![endif]-->
<!--[if IE 8]>
<link rel="stylesheet" type="text/css" href="style/style_ie8.css">
<![endif]-->
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
 <script src="./scripts/superfish.js" type="text/javascript"></script>
 <script src="./scripts/narrow.js" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="style/superfish.css" />  <link rel="stylesheet" type="text/css" href="style/narrow.css" /></head>
<body class="" onload="CheckEmptyAndLoadList();">
 <div class="header" id="qtdocheader">
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Mobility Reference Documentation</span></a>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://qt.nokia.com/developer">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
        <li class="nav-topright-shop"><a title="SHOP" href="http://shop.qt.nokia.com">SHOP</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Mobility 1.1</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL Qt VERSIONS        </a></li>
      </ul>
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="declarativeui.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html#Demos">QML Demos</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Camera</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#still-images">Still Images</a></li>
<li class="level1"><a href="#video-clips">Video Clips</a></li>
<li class="level1"><a href="#focus">Focus</a></li>
<li class="level1"><a href="#cancelling-asynchronous-operations">Cancelling Asynchronous Operations</a></li>
<li class="level1"><a href="#camera-controls">Camera Controls</a></li>
<li class="level1"><a href="#classes">Classes</a></li>
</ul>
</div>
<h1 class="title">Camera</h1>
<span class="subtitle"></span>
<div class="descr"/>
<p><b>Note:</b> This API and documentation is a <b>Technology Preview</b> and is still subject to change.</p>
<p>The Camera API provides control of system camera devices. Providing support for still or video image capture with sound support.</p>
<a name="overview"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Overview</h2>
<p>The Camera API allows high level control of various aspects of still images and video. Camera is a part of the Multimedia API and this relationship is apparent when you notice that certain core classes are subclassed from some Multimedia base classes including <a href="qmediaobject.html">QMediaObject</a> and <a href="qmediacontrol.html">QMediaControl</a>.</p>
<a name="still-images"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Still Images</h2>
<p>In order to capture an image we need to create a <a href="qcamera.html">QCamera</a> object and use it to initialize a <a href="qvideowidget.html">QVideoWidget</a>, so we can see where the camera is pointing - a viewfinder. The camera object is also used to initialize a new QStillImageCapture object, imageCapture. All that is then needed is to start the camera, lock it so that the settings are not changed while the image capture occurs, capture the image, and finally unlock the camera ready for the next photo.</p>
<pre class="highlightedCode brush: cpp"> camera = new QCamera;
 viewFinder = new QCameraViewfinder();
 viewFinder-&gt;show();

 camera-&gt;setViewfinder(viewFinder);

 imageCapture = new QStillImageCapture(camera);

 camera-&gt;start();

<span class="comment"> //on half pressed shutter button</span>
 camera-&gt;lock();

 ...

<span class="comment"> //on shutter button pressed</span>
 imageCapture-&gt;capture(&quot;imagefile.jpg&quot;);

<span class="comment"> //on shutter button released</span>
 camera-&gt;unlock();</pre>
<p>Alternatively, we could have used a <a href="qvideowidget.html">QVideoWidget</a> initialized with the camera object to create a view finder.</p>
<a name="video-clips"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Video Clips</h2>
<p>Previously we saw code that allowed the capture of a still image. Recording video requires the use of a <a href="qmediarecorder.html">QMediaRecorder</a> object and a <a href="qaudiocapturesource.html">QAudioCaptureSource</a> for sound.</p>
<p>To record video we need to create a camera object as before but this time as well as creating a viewfinder, we will also initialize a media recorder object and an audio source object for sound configuration details.</p>
<pre class="highlightedCode brush: cpp"> mediaRecorder = new QMediaRecorder(camera);
 ...
 audioSource = new QAudioCaptureSource(camera);</pre>
<p>Signals from the <i>mediaRecorder</i> can be connected to slots to react to changes in the state of the recorder or error events. Recording itself starts with the <a href="qmediarecorder.html#record">record()</a> function of mediaRecorder being called, this causes the signal <a href="qmediarecorder.html#stateChanged">stateChanged()</a> to be emitted. The recording process can be changed with the <a href="qmediarecorder.html#record">record()</a>, <a href="qmediarecorder.html#pause">pause()</a>, <a href="qmediarecorder.html#stop">stop()</a> and <a href="qmediarecorder.html#muted-prop">setMuted()</a> slots in <a href="qmediarecorder.html">QMediaRecorder</a>.</p>
<p>When the camera is in video mode, as decided by the application, then as the shutter button is pressed the camera is locked as before but instead the <a href="qmediarecorder.html#record">record()</a> function in <a href="qmediarecorder.html">QMediaRecorder</a> is used.</p>
<a name="focus"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Focus</h2>
<p>Focusing is managed by the classes <a href="qcamerafocus.html">QCameraFocus</a> and <a href="qcamerafocuscontrol.html">QCameraFocusControl</a>. <a href="qcamerafocus.html">QCameraFocus</a> allows the developer to set the general policy by means of the enums for the <a href="qcamerafocus.html#FocusMode-enum">FocusMode</a> and the <a href="qcamerafocus.html#FocusPointMode-enum">FocusPointMode</a>. FocusMode deals with settings such as AutoFocus, ContinuousFocus and InfinityFocus, whereas FocusPointMode deals with the various focus zones within the view. FocusPointMode has support for face recognition, center focus and a custom focus where the focus point can be specified.</p>
<a name="cancelling-asynchronous-operations"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Cancelling Asynchronous Operations</h2>
<p>Various operations such as image capture and auto focusing occur asynchrously. These operations can often be cancelled by the start of a new operation as long as this is supported by the backend. For image capture, the operation can be cancelled by calling cancelCapture(). For AutoFocus, autoexposure or white balance cancellation can be done by calling <i>QCamera::unlock(<a href="qcamera.html#LockType-enum">QCamera::LockFocus</a>)</i>.</p>
<a name="camera-controls"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Camera Controls</h2>
<table class="generic">
<thead><tr class="qt-style topAlign"><th>Control Name</th><th>Description</th></tr></thead>
<tr class="odd topAlign"><td><p>camera</p></td><td><p>the interface for system camera devices</p></td></tr>
<tr class="even topAlign"><td><p>burst control</p></td><td><p>capturing multiple images as fast as possible</p></td></tr>
<tr class="odd topAlign"><td><p>bracketing</p></td><td><p>Capture a number of images with different camera settings</p></td></tr>
<tr class="even topAlign"><td><p>exposure</p></td><td><p>Includes: flash mode; flash power; metering mode; aperture; shutter speed, iso setting</p></td></tr>
<tr class="odd topAlign"><td><p>focus</p></td><td><p>Includes: optical zoom; digital zoom; focus point; focus zones</p></td></tr>
<tr class="even topAlign"><td><p>image processing</p></td><td><p>white balance; contrast; saturation; sharpen; denoise</p></td></tr>
<tr class="odd topAlign"><td><p>locks</p></td><td><p>handles the locking and unlocking of camera devices</p></td></tr>
<tr class="even topAlign"><td><p>viewfinder</p></td><td><p>used to set displayed items and resolution</p></td></tr>
</table>
<a name="classes"></a><div class="navTop"><a href="#toc"><img src="./images/bullet_up.png"></a></div>
<h2>Classes</h2>
<table class="annotated">
<tr class="odd topAlign"><td><p><a href="qcamera.html">QCamera</a></p></td><td><p>Interface for system camera devices</p></td></tr>
<tr class="even topAlign"><td><p><a href="qcameracontrol.html">QCameraControl</a></p></td><td><p>Abstract base class for classes that control still cameras or video cameras</p></td></tr>
<tr class="odd topAlign"><td><p><a href="qcameraexposure.html">QCameraExposure</a></p></td><td><p>Interface for exposure related camera settings</p></td></tr>
<tr class="even topAlign"><td><p><a href="qcameraexposurecontrol.html">QCameraExposureControl</a></p></td><td><p>Supplies control for exposure related camera parameters</p></td></tr>
<tr class="odd topAlign"><td><p><a href="qcamerafocus.html">QCameraFocus</a></p></td><td><p>Interface for focus and zoom related camera settings</p></td></tr>
<tr class="even topAlign"><td><p><a href="qcamerafocuscontrol.html">QCameraFocusControl</a></p></td><td><p>Supplies control for focusing related camera parameters</p></td></tr>
<tr class="odd topAlign"><td><p><a href="qcameraimagecapturecontrol.html">QCameraImageCaptureControl</a></p></td><td><p>Control interface for image capture services</p></td></tr>
<tr class="even topAlign"><td><p><a href="qcameraimageprocessing.html">QCameraImageProcessing</a></p></td><td><p>Interface for focus and zoom related camera settings</p></td></tr>
<tr class="odd topAlign"><td><p><a href="qcameralockscontrol.html">QCameraLocksControl</a></p></td><td><p>Abstract base class for classes that control still cameras or video cameras</p></td></tr>
<tr class="even topAlign"><td><p><a href="qcameraviewfinder.html">QCameraViewfinder</a></p></td><td><p>Camera viewfinder widget</p></td></tr>
</table>
</div>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009-2010 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Mobility Project 1.1.0</div></td>
</tr></table></div></address>  <script src="scripts/functions.js" type="text/javascript"></script>
  <!-- <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script> -->
</body>
</html>
