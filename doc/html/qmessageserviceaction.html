<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- ../../messaging/draft-api.cpp -->
<head>
  <title>QMessageServiceAction Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">QMessageServiceAction Class Reference</h1>
<p>The QMessageServiceAction class provides the interface for requesting messaging services. <a href="#details">More...</a></p>
<pre>    #include &lt;QMessageServiceAction&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="http://doc.qtsoftware.com/4.5/qobject.html">QObject</a>.</p>
<ul>
<li><a href="qmessageserviceaction-members.html">List of all members, including inherited members</a></li>
</ul>
<hr />
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">enum </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#Activity-enum">Activity</a></b> { Pending, InProgress, Successful, Failed }</td></tr>
</table>
<hr />
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">Activity </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#activity">activity</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#compose">compose</a></b> ( const QMessage &amp; <i>message</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#exportUpdates">exportUpdates</a></b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QString </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#lastErrorString">lastErrorString</a></b> () const</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#retrieve">retrieve</a></b> ( const QMessageId &amp; <i>id</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#retrieve-2">retrieve</a></b> ( const QMessageContentContainerId &amp; <i>id</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#send">send</a></b> ( const QMessage &amp; <i>message</i>, const QMessageAccountId &amp; <i>accountId</i> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#show">show</a></b> ( const QMessageId &amp; <i>id</i> )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>29 public functions inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#public-functions">QObject</a></li>
</ul>
<hr />
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#cancelOperation">cancelOperation</a></b> ()</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 public slot inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#public-slots">QObject</a></li>
</ul>
<hr />
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr><td class="memItemLeft" align="right" valign="top">void </td><td class="memItemRight" valign="bottom"><b><a href="qmessageserviceaction.html#activityChanged">activityChanged</a></b> ( QMessageServiceAction::Activity <i>a</i> )</td></tr>
</table>
<ul>
<li><div bar="2" class="fn"></div>1 signal inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"></div>1 property inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#properties">QObject</a></li>
<li><div class="fn"></div>1 public type inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#public-variables">QObject</a></li>
<li><div class="fn"></div>4 static public members inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"></div>7 protected functions inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"></div>2 protected variables inherited from <a href="http://doc.qtsoftware.com/4.5/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMessageServiceAction class provides the interface for requesting messaging services.</p>
<p>QMessageServiceAction provides the mechanisms for messaging clients to request services, and to receive information in response. All actions present the same interface for communicating status, connectivity and progress information.</p>
<p>All actions communicate changes in their operational state by emitting the <a href="qmessageserviceaction.html#activityChanged">activityChanged</a>() signal.</p>
<p>If an action operation fails, the <a href="qmessageserviceaction.html#lastErrorString">lastErrorString</a>() function will return a string indicating the failure mode encountered. A successful operation will set the lastError() result to a null string.</p>
<p>A user may attempt to cancel an operation after it has been initiated. The <a href="qmessageserviceaction.html#cancelOperation">cancelOperation</a>() slot is provided for this purpose.</p>
<p>A QMessageServiceAction instance supports only a single request at any time. A client may, however, use multiple QMessageServiceAction instances to send independent requests concurrently. Each QMessageServiceAction instance will report only the changes pertaining to the request that instance delivered.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="Activity-enum"></a>enum QMessageServiceAction::Activity</h3>
<p>This enum type is used to describe the activity state of the requested action.</p>
<p><table class="valuelist" border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMessageServiceAction::Pending</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">The action has not yet begun execution.</td></tr>
<tr><td valign="top"><tt>QMessageServiceAction::InProgress</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The action is currently executing.</td></tr>
<tr><td valign="top"><tt>QMessageServiceAction::Successful</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">The action has completed successfully.</td></tr>
<tr><td valign="top"><tt>QMessageServiceAction::Failed</tt></td><td align="center" valign="top"><tt>3</tt></td><td valign="top">The action could not be completed successfully, and has finished execution.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="activity"></a><a href="qmessageserviceaction.html#Activity-enum">Activity</a> QMessageServiceAction::activity () const</h3>
<p>Returns the current activity state of the action.</p>
<p>See also <a href="qmessageserviceaction.html#activityChanged">activityChanged</a>().</p>
<h3 class="fn"><a name="activityChanged"></a>void QMessageServiceAction::activityChanged ( <a href="qmessageserviceaction.html#Activity-enum">QMessageServiceAction::Activity</a> <i>a</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the activity status of the action changes, with the new state described by <i>a</i>.</p>
<p>See also <a href="qmessageserviceaction.html#activity">activity</a>().</p>
<h3 class="fn"><a name="cancelOperation"></a>void QMessageServiceAction::cancelOperation ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Attempts to cancel the last requested operation.</p>
<h3 class="fn"><a name="compose"></a>void QMessageServiceAction::compose ( const <a href="qmessage.html">QMessage</a> &amp; <i>message</i> )</h3>
<p>Open a composer application using <i>message</i> as a prototype.</p>
<p>The default application for handling the type of <i>message</i> should be used.</p>
<p>See also <a href="qmessage.html#type">QMessage::type</a>().</p>
<h3 class="fn"><a name="exportUpdates"></a>void QMessageServiceAction::exportUpdates ()</h3>
<p>Synchronize any changes that have been queued by message store operations with external servers.</p>
<p>See also <a href="qmessagestore.html#addMessage">QMessageStore::addMessage</a>(), <a href="qmessagestore.html#updateMessage">QMessageStore::updateMessage</a>(), <a href="qmessagestore.html#removeMessage">QMessageStore::removeMessage</a>(), and <a href="qmessagestore.html#removeMessages">QMessageStore::removeMessages</a>().</p>
<h3 class="fn"><a name="lastErrorString"></a><a href="http://doc.qtsoftware.com/4.5/qstring.html">QString</a> QMessageServiceAction::lastErrorString () const</h3>
<p>Returns a string indicating the last error condition reported by the action if any; otherwise returns a null string.</p>
<h3 class="fn"><a name="retrieve"></a>void QMessageServiceAction::retrieve ( const <a href="qmessageid.html">QMessageId</a> &amp; <i>id</i> )</h3>
<p>Retrieve meta data of the message identified by <i>id</i>.</p>
<p>The meta data (including flags, from, to, subject, and date fields where applicable) of the message identified by <i>id</i> should be retrieved.</p>
<p>If the message can not be found on the originating server it will be marked as removed.</p>
<p>See also <a href="qmessageid.html">QMessageId</a> and <a href="qmessage.html#Status-enum">QMessage::Removed</a>.</p>
<h3 class="fn"><a name="retrieve-2"></a>void QMessageServiceAction::retrieve ( const <a href="qmessagecontentcontainerid.html">QMessageContentContainerId</a> &amp; <i>id</i> )</h3>
<p>Retrieve the container identified by <i>id</i>, the contents of the container should also be retrieved.</p>
<p>See also <a href="qmessagecontentcontainerid.html">QMessageContentContainerId</a>.</p>
<h3 class="fn"><a name="send"></a>void QMessageServiceAction::send ( const <a href="qmessage.html">QMessage</a> &amp; <i>message</i>, const <a href="qmessageaccountid.html">QMessageAccountId</a> &amp; <i>accountId</i> )</h3>
<p>Transmit <i>message</i> using the account identified by <i>accountId</i>.</p>
<p>See also <a href="qmessage.html">QMessage</a> and <a href="qmessageaccountid.html">QMessageAccountId</a>.</p>
<h3 class="fn"><a name="show"></a>void QMessageServiceAction::show ( const <a href="qmessageid.html">QMessageId</a> &amp; <i>id</i> )</h3>
<p>Show the message identified by <i>id</i>.</p>
<p>The default application for handling the type of message that <i>id</i> identifies should be used.</p>
<p>See also <a href="qmessageid.html">QMessageId</a> and <a href="qmessage.html#type">QMessage::type</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td align="right"><div align="right">Messaging API</div></td>
</tr></table></div></address></body>
</html>
