<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>testresultxmlparser.h Example File (versittest/testresultxmlparser.h)</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qtlogo.png" align="left" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a></td>
<td align="right" valign="top" width="230"><img src="images/codeless.png"  border="0" /></td></tr></table><h1 class="title">testresultxmlparser.h Example File<br /><span class="small-subtitle">versittest/testresultxmlparser.h</span>
</h1>
<pre><span class="comment">    /*
    * Copyright (c) 2009 Nokia Corporation and/or its subsidiary(-ies).
    * All rights reserved.
    * This component and the accompanying materials are made available
    * under the terms of the License &quot;Symbian Foundation License v1.0&quot;
    * which accompanies this distribution, and is available
    * at the URL &quot;http://www.symbianfoundation.org/legal/sfl-v10.html&quot;.
    *
    * Initial Contributors:
    * Nokia Corporation - initial contribution.
    *
    * Contributors:
    *
    * Description:
    *
    */</span>

    #ifndef TESTRESULTXMLPARSER_H
    #define TESTRESULTXMLPARSER_H

    #include &lt;QXmlDefaultHandler&gt;

    class TestResultXmlParser : public QXmlDefaultHandler
    {
    public: <span class="comment">// Constructors and destructor</span>
        TestResultXmlParser();
        ~TestResultXmlParser();

    public: <span class="comment">// From QXmlContentHandler</span>
        bool startElement(
            const QString&amp; namespaceURI,
            const QString&amp; localName,
            const QString&amp; qName,
            const QXmlAttributes&amp; atts);

        bool endElement(
            const QString&amp; namespaceURI,
            const QString&amp; localName,
            const QString&amp; qName);

        bool characters(const QString&amp; ch);

    public: <span class="comment">// New functions</span>

        int parse(const QString&amp; fileName);

        int parseAndPrintResults(
            const QString&amp; fileName,
            bool printDetails=false);

        int testCount();

        QStringList errors();

    private: <span class="comment">// Data</span>
        int mTestCount;
        QStringList* mErrors;
        bool mParsingIncidentElement;
        bool mParsingDescriptionElement;
        bool mCurrentTestFailed;
        QString mCurrentTestName;
        QString mCurrentTestFile;
        int mCurrentTestFailureLine;
        unsigned int mTotalBenchMarkTime;
        unsigned int mBenchMarkCount;
    };

    #endif <span class="comment">// TESTRESULTXMLPARSER_H</span></pre>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td align="right"><div align="right">Qt Contacts</div></td>
</tr></table></div></address></body>
</html>
